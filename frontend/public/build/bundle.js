var app=function(){"use strict";function t(){}const n=t=>t;function e(t,n){for(const e in n)t[e]=n[e];return t}function o(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(o)}function s(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}const c="undefined"!=typeof window;let a=c?()=>window.performance.now():()=>Date.now(),u=c?t=>requestAnimationFrame(t):t;const m=new Set;function d(t){m.forEach((n=>{n.c(t)||(m.delete(n),n.f())})),0!==m.size&&u(d)}function f(t){let n;return 0===m.size&&u(d),{promise:new Promise((e=>{m.add(n={c:t,f:e})})),abort(){m.delete(n)}}}function p(t,n){t.appendChild(n)}function h(t,n,e){t.insertBefore(n,e||null)}function g(t){t.parentNode.removeChild(t)}function $(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function v(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function b(){return y(" ")}function w(){return y("")}function k(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function x(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function _(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function E(t,n){t.value=null==n?"":n}function I(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}function S(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}const C=new Set;let L,j=0;function A(t,n,e,o,r,i,s,l=0){const c=16.666/o;let a="{\n";for(let t=0;t<=1;t+=c){const o=n+(e-n)*i(t);a+=100*t+`%{${s(o,1-o)}}\n`}const u=a+`100% {${s(e,1-e)}}\n}`,m=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(u)}_${l}`,d=t.ownerDocument;C.add(d);const f=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(v("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[m]||(p[m]=!0,f.insertRule(`@keyframes ${m} ${u}`,f.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${m} ${o}ms linear ${r}ms 1 both`,j+=1,m}function R(t,n){const e=(t.style.animation||"").split(", "),o=e.filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")),r=e.length-o.length;r&&(t.style.animation=o.join(", "),j-=r,j||u((()=>{j||(C.forEach((t=>{const n=t.__svelte_stylesheet;let e=n.cssRules.length;for(;e--;)n.deleteRule(e);t.__svelte_rules={}})),C.clear())})))}function B(t){L=t}function O(){if(!L)throw new Error("Function called outside component initialization");return L}function T(t){O().$$.on_mount.push(t)}function M(){const t=O();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const r=S(n,e);o.slice().forEach((n=>{n.call(t,r)}))}}}function D(t,n){const e=t.$$.callbacks[n.type];e&&e.slice().forEach((t=>t(n)))}const P=[],N=[],H=[],q=[],U=Promise.resolve();let z=!1;function F(){z||(z=!0,U.then(W))}function Y(){return F(),U}function J(t){H.push(t)}let X=!1;const V=new Set;function W(){if(!X){X=!0;do{for(let t=0;t<P.length;t+=1){const n=P[t];B(n),G(n.$$)}for(B(null),P.length=0;N.length;)N.pop()();for(let t=0;t<H.length;t+=1){const n=H[t];V.has(n)||(V.add(n),n())}H.length=0}while(P.length);for(;q.length;)q.pop()();z=!1,X=!1,V.clear()}}function G(t){if(null!==t.fragment){t.update(),i(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(J)}}let K;function Q(){return K||(K=Promise.resolve(),K.then((()=>{K=null}))),K}function Z(t,n,e){t.dispatchEvent(S(`${n?"intro":"outro"}${e}`))}const tt=new Set;let nt;function et(){nt={r:0,c:[],p:nt}}function ot(){nt.r||i(nt.c),nt=nt.p}function rt(t,n){t&&t.i&&(tt.delete(t),t.i(n))}function it(t,n,e,o){if(t&&t.o){if(tt.has(t))return;tt.add(t),nt.c.push((()=>{tt.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}const st={duration:0};function lt(e,o,r){let i,l,c=o(e,r),u=!1,m=0;function d(){i&&R(e,i)}function p(){const{delay:o=0,duration:r=300,easing:s=n,tick:p=t,css:h}=c||st;h&&(i=A(e,0,1,r,o,s,h,m++)),p(0,1);const g=a()+o,$=g+r;l&&l.abort(),u=!0,J((()=>Z(e,!0,"start"))),l=f((t=>{if(u){if(t>=$)return p(1,0),Z(e,!0,"end"),d(),u=!1;if(t>=g){const n=s((t-g)/r);p(n,1-n)}}return u}))}let h=!1;return{start(){h||(R(e),s(c)?(c=c(),Q().then(p)):p())},invalidate(){h=!1},end(){u&&(d(),u=!1)}}}function ct(e,o,r,l){let c=o(e,r),u=l?0:1,m=null,d=null,p=null;function h(){p&&R(e,p)}function g(t,n){const e=t.b-u;return n*=Math.abs(e),{a:u,b:t.b,d:e,duration:n,start:t.start,end:t.start+n,group:t.group}}function $(o){const{delay:r=0,duration:s=300,easing:l=n,tick:$=t,css:v}=c||st,y={start:a()+r,b:o};o||(y.group=nt,nt.r+=1),m||d?d=y:(v&&(h(),p=A(e,u,o,s,r,l,v)),o&&$(0,1),m=g(y,s),J((()=>Z(e,o,"start"))),f((t=>{if(d&&t>d.start&&(m=g(d,s),d=null,Z(e,m.b,"start"),v&&(h(),p=A(e,u,m.b,m.duration,0,l,c.css))),m)if(t>=m.end)$(u=m.b,1-u),Z(e,m.b,"end"),d||(m.b?h():--m.group.r||i(m.group.c)),m=null;else if(t>=m.start){const n=t-m.start;u=m.a+m.d*l(n/m.duration),$(u,1-u)}return!(!m&&!d)})))}return{run(t){s(c)?Q().then((()=>{c=c(),$(t)})):$(t)},end(){h(),m=d=null}}}function at(t,n){const e={},o={},r={$$scope:1};let i=t.length;for(;i--;){const s=t[i],l=n[i];if(l){for(const t in s)t in l||(o[t]=1);for(const t in l)r[t]||(e[t]=l[t],r[t]=1);t[i]=l}else for(const t in s)r[t]=1}for(const t in o)t in e||(e[t]=void 0);return e}function ut(t){return"object"==typeof t&&null!==t?t:{}}function mt(t){t&&t.c()}function dt(t,n,e,r){const{fragment:l,on_mount:c,on_destroy:a,after_update:u}=t.$$;l&&l.m(n,e),r||J((()=>{const n=c.map(o).filter(s);a?a.push(...n):i(n),t.$$.on_mount=[]})),u.forEach(J)}function ft(t,n){const e=t.$$;null!==e.fragment&&(i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function pt(n,e,o,s,l,c,a=[-1]){const u=L;B(n);const m=n.$$={fragment:null,ctx:null,props:c,update:t,not_equal:l,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:a,skip_bound:!1};let d=!1;if(m.ctx=o?o(n,e.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return m.ctx&&l(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),d&&function(t,n){-1===t.$$.dirty[0]&&(P.push(t),F(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}(n,t)),e})):[],m.update(),d=!0,i(m.before_update),m.fragment=!!s&&s(m.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);m.fragment&&m.fragment.l(t),t.forEach(g)}else m.fragment&&m.fragment.c();e.intro&&rt(n.$$.fragment),dt(n,e.target,e.anchor,e.customElement),W()}B(u)}class ht{$destroy(){ft(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const gt=[];function $t(t,n){return{subscribe:vt(t,n).subscribe}}function vt(n,e=t){let o;const r=[];function i(t){if(l(n,t)&&(n=t,o)){const t=!gt.length;for(let t=0;t<r.length;t+=1){const e=r[t];e[1](),gt.push(e,n)}if(t){for(let t=0;t<gt.length;t+=2)gt[t][0](gt[t+1]);gt.length=0}}}return{set:i,update:function(t){i(t(n))},subscribe:function(s,l=t){const c=[s,l];return r.push(c),1===r.length&&(o=e(i)||t),s(n),()=>{const t=r.indexOf(c);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}function yt(n,e,o){const r=!Array.isArray(n),l=r?[n]:n,c=e.length<2;return $t(o,(n=>{let o=!1;const a=[];let u=0,m=t;const d=()=>{if(u)return;m();const o=e(r?a[0]:a,n);c?n(o):m=s(o)?o:t},f=l.map(((n,e)=>function(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}(n,(t=>{a[e]=t,u&=~(1<<e),o&&d()}),(()=>{u|=1<<e}))));return o=!0,d(),function(){i(f),m()}}))}function bt(t){let n,o,r;const i=[t[2]];var s=t[0];function l(t){let n={};for(let t=0;t<i.length;t+=1)n=e(n,i[t]);return{props:n}}return s&&(n=new s(l()),n.$on("routeEvent",t[7])),{c(){n&&mt(n.$$.fragment),o=w()},m(t,e){n&&dt(n,t,e),h(t,o,e),r=!0},p(t,e){const r=4&e?at(i,[ut(t[2])]):{};if(s!==(s=t[0])){if(n){et();const t=n;it(t.$$.fragment,1,0,(()=>{ft(t,1)})),ot()}s?(n=new s(l()),n.$on("routeEvent",t[7]),mt(n.$$.fragment),rt(n.$$.fragment,1),dt(n,o.parentNode,o)):n=null}else s&&n.$set(r)},i(t){r||(n&&rt(n.$$.fragment,t),r=!0)},o(t){n&&it(n.$$.fragment,t),r=!1},d(t){t&&g(o),n&&ft(n,t)}}}function wt(t){let n,o,r;const i=[{params:t[1]},t[2]];var s=t[0];function l(t){let n={};for(let t=0;t<i.length;t+=1)n=e(n,i[t]);return{props:n}}return s&&(n=new s(l()),n.$on("routeEvent",t[6])),{c(){n&&mt(n.$$.fragment),o=w()},m(t,e){n&&dt(n,t,e),h(t,o,e),r=!0},p(t,e){const r=6&e?at(i,[2&e&&{params:t[1]},4&e&&ut(t[2])]):{};if(s!==(s=t[0])){if(n){et();const t=n;it(t.$$.fragment,1,0,(()=>{ft(t,1)})),ot()}s?(n=new s(l()),n.$on("routeEvent",t[6]),mt(n.$$.fragment),rt(n.$$.fragment,1),dt(n,o.parentNode,o)):n=null}else s&&n.$set(r)},i(t){r||(n&&rt(n.$$.fragment,t),r=!0)},o(t){n&&it(n.$$.fragment,t),r=!1},d(t){t&&g(o),n&&ft(n,t)}}}function kt(t){let n,e,o,r;const i=[wt,bt],s=[];function l(t,n){return t[1]?0:1}return n=l(t),e=s[n]=i[n](t),{c(){e.c(),o=w()},m(t,e){s[n].m(t,e),h(t,o,e),r=!0},p(t,[r]){let c=n;n=l(t),n===c?s[n].p(t,r):(et(),it(s[c],1,1,(()=>{s[c]=null})),ot(),e=s[n],e?e.p(t,r):(e=s[n]=i[n](t),e.c()),rt(e,1),e.m(o.parentNode,o))},i(t){r||(rt(e),r=!0)},o(t){it(e),r=!1},d(t){s[n].d(t),t&&g(o)}}}function xt(){const t=window.location.href.indexOf("#/");let n=t>-1?window.location.href.substr(t+1):"/";const e=n.indexOf("?");let o="";return e>-1&&(o=n.substr(e+1),n=n.substr(0,e)),{location:n,querystring:o}}const _t=$t(null,(function(t){t(xt());const n=()=>{t(xt())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}}));async function Et(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await Y(),history.replaceState({scrollX:window.scrollX,scrollY:window.scrollY},void 0,void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}async function It(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await Y();const n=("#"==t.charAt(0)?"":"#")+t;try{window.history.replaceState(void 0,void 0,n)}catch(t){console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function St(t,n,e){let{routes:o={}}=n,{prefix:r=""}=n,{restoreScrollState:i=!1}=n;class s{constructor(t,n){if(!n||"function"!=typeof n&&("object"!=typeof n||!0!==n._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:e,keys:o}=function(t,n){if(t instanceof RegExp)return{keys:!1,pattern:t};var e,o,r,i,s=[],l="",c=t.split("/");for(c[0]||c.shift();r=c.shift();)"*"===(e=r[0])?(s.push("wild"),l+="/(.*)"):":"===e?(o=r.indexOf("?",1),i=r.indexOf(".",1),s.push(r.substring(1,~o?o:~i?i:r.length)),l+=~o&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~o?"?":"")+"\\"+r.substring(i))):l+="/"+r;return{keys:s,pattern:new RegExp("^"+l+(n?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof n&&!0===n._sveltesparouter?(this.component=n.component,this.conditions=n.conditions||[],this.userData=n.userData,this.props=n.props||{}):(this.component=()=>Promise.resolve(n),this.conditions=[],this.props={}),this._pattern=e,this._keys=o}match(t){if(r)if("string"==typeof r){if(!t.startsWith(r))return null;t=t.substr(r.length)||"/"}else if(r instanceof RegExp){const n=t.match(r);if(!n||!n[0])return null;t=t.substr(n[0].length)||"/"}const n=this._pattern.exec(t);if(null===n)return null;if(!1===this._keys)return n;const e={};let o=0;for(;o<this._keys.length;){try{e[this._keys[o]]=decodeURIComponent(n[o+1]||"")||null}catch(t){e[this._keys[o]]=null}o++}return e}async checkConditions(t){for(let n=0;n<this.conditions.length;n++)if(!await this.conditions[n](t))return!1;return!0}}const l=[];o instanceof Map?o.forEach(((t,n)=>{l.push(new s(n,t))})):Object.keys(o).forEach((t=>{l.push(new s(t,o[t]))}));let c=null,a=null,u={};const m=M();async function d(t,n){await Y(),m(t,n)}let f=null;var p;i&&(window.addEventListener("popstate",(t=>{f=t.state&&t.state.scrollY?t.state:null})),p=()=>{f?window.scrollTo(f.scrollX,f.scrollY):window.scrollTo(0,0)},O().$$.after_update.push(p));let h=null,g=null;return _t.subscribe((async t=>{h=t;let n=0;for(;n<l.length;){const o=l[n].match(t.location);if(!o){n++;continue}const r={route:l[n].path,location:t.location,querystring:t.querystring,userData:l[n].userData};if(!await l[n].checkConditions(r))return e(0,c=null),g=null,void d("conditionsFailed",r);d("routeLoading",Object.assign({},r));const i=l[n].component;if(g!=i){i.loading?(e(0,c=i.loading),g=i,e(1,a=i.loadingParams),e(2,u={}),d("routeLoaded",Object.assign({},r,{component:c,name:c.name}))):(e(0,c=null),g=null);const n=await i();if(t!=h)return;e(0,c=n&&n.default||n),g=i}return o&&"object"==typeof o&&Object.keys(o).length?e(1,a=o):e(1,a=null),e(2,u=l[n].props),void d("routeLoaded",Object.assign({},r,{component:c,name:c.name}))}e(0,c=null),g=null})),t.$$set=t=>{"routes"in t&&e(3,o=t.routes),"prefix"in t&&e(4,r=t.prefix),"restoreScrollState"in t&&e(5,i=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=i?"manual":"auto")},[c,a,u,o,r,i,function(n){D(t,n)},function(n){D(t,n)}]}yt(_t,(t=>t.location)),yt(_t,(t=>t.querystring));class Ct extends ht{constructor(t){super(),pt(this,t,St,kt,l,{routes:3,prefix:4,restoreScrollState:5})}}function Lt(t){const n=t-1;return n*n*n+1}function jt(t,{delay:e=0,duration:o=400,easing:r=n}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:o,easing:r,css:t=>"opacity: "+t*i}}function At(t,{delay:n=0,duration:e=400,easing:o=Lt,x:r=0,y:i=0,opacity:s=0}={}){const l=getComputedStyle(t),c=+l.opacity,a="none"===l.transform?"":l.transform,u=c*(1-s);return{delay:n,duration:e,easing:o,css:(t,n)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*r}px, ${(1-t)*i}px);\n\t\t\topacity: ${c-u*n}`}}function Rt(n){let e,o,r;return{c(){e=v("img"),x(e,"id","themeIcon"),e.src!==(o="img/moon.svg")&&x(e,"src","img/moon.svg"),x(e,"alt","moon")},m(t,n){h(t,e,n)},i(t){r||J((()=>{r=lt(e,At,{y:50,duration:500}),r.start()}))},o:t,d(t){t&&g(e)}}}function Bt(n){let e,o,r;return{c(){e=v("img"),x(e,"id","themeIcon"),e.src!==(o="img/sun.svg")&&x(e,"src","img/sun.svg"),x(e,"alt","sun")},m(t,n){h(t,e,n)},i(t){r||J((()=>{r=lt(e,At,{y:50,duration:500}),r.start()}))},o:t,d(t){t&&g(e)}}}function Ot(n){let e,o,r,s,l,c,a,u,m,d,f,$,y;function w(t,n){return t[0]?Bt:Rt}let _=w(n),E=_(n);return{c(){e=v("div"),o=v("div"),r=v("div"),s=v("div"),l=v("div"),l.innerHTML="<h6></h6>",c=b(),a=v("div"),u=v("div"),u.innerHTML='<h1 class="header-title">Planning Poker</h1>',m=b(),d=v("div"),f=v("div"),E.c(),x(l,"class","one column theme-column"),x(a,"class","ten columns title-column"),x(f,"id","darkmodetrigger"),x(f,"class","darkmodetrigger u-pull-right"),x(d,"class","one column theme-column u-pull-right"),I(d,"height","100%"),I(d,"margin-bottom","0%"),x(s,"class","row"),x(r,"class","container"),x(o,"id","header"),x(o,"class","header"),x(e,"class","content")},m(t,i){h(t,e,i),p(e,o),p(o,r),p(r,s),p(s,l),p(s,c),p(s,a),p(a,u),p(s,m),p(s,d),p(d,f),E.m(f,null),$||(y=[k(u,"click",n[1]),k(f,"click",n[2])],$=!0)},p(t,[n]){_!==(_=w(t))&&(E.d(1),E=_(t),E&&(E.c(),rt(E,1),E.m(f,null)))},i(t){rt(E)},o:t,d(t){t&&g(e),E.d(),$=!1,i(y)}}}function Tt(t){let n=document.getElementById("themeStyle");void 0===localStorage.getItem("theme")&&localStorage.setItem("theme","css/dark.css"),t?(n.setAttribute("href","css/dark.css"),localStorage.setItem("theme","css/dark.css")):(n.setAttribute("href","css/light.css"),localStorage.setItem("theme","css/light.css"))}function Mt(t,n,e){let o=!0;return T((()=>{"css/light.css"===localStorage.getItem("theme")&&(e(0,o=!1),Tt(o))})),[o,t=>{t.preventDefault(),It("/")},function(){e(0,o=!o),Tt(o)}]}class Dt extends ht{constructor(t){super(),pt(this,t,Mt,Ot,l,{})}}function Pt(n){let e,o,r,s,l,c,a,u,m,d;return{c(){e=v("div"),o=v("div"),o.innerHTML='<h3>A simple, online planning poker tool.</h3> \n        <span style="font-size: 15px">Just start a session or join an existing one to estimate your user stories.</span>',r=b(),s=v("div"),l=v("button"),l.textContent="Start",c=b(),a=v("button"),a.textContent="Join",x(o,"class","nine columns"),I(o,"margin-bottom","10%"),x(l,"class","button-primary-start u-full-width"),x(a,"class","button-primary-join u-full-width"),x(s,"class","three columns indexbuttons"),I(s,"margin-bottom","10%"),x(e,"class","row"),I(e,"margin-top","15%"),I(e,"margin-bottom","5%")},m(t,i){h(t,e,i),p(e,o),p(e,r),p(e,s),p(s,l),p(s,c),p(s,a),m||(d=[k(l,"click",n[0]),k(a,"click",n[1])],m=!0)},p:t,i(t){u||J((()=>{u=lt(e,jt,{}),u.start()}))},o:t,d(t){t&&g(e),m=!1,i(d)}}}function Nt(t,n,e){return[()=>{Et("/start")},()=>{Et("/join")},null]}let Ht={username:"",roomID:"",role:"member"};function qt(t,n,e="member"){Ht.username=t||"user",Ht.roomID=n||"",Ht.role=e,localStorage.setItem("username",t),localStorage.setItem("role",e),socket.connect(),socket.emit("joinRoom",Ht)}function Ut(t){return t.length>2&&t.length<13}function zt(t){return null!==t&&5===t.length&&null!==t.match(/^[0-9]+$/)}function Ft(){let t=document.getElementById("submitButton");t.classList.add("button-primary-negative"),setTimeout((function(){t.classList.remove("button-primary-negative")}),300)}function Yt(n){let e,o,r;return{c(){e=v("img"),I(e,"vertical-align","middle"),e.src!==(o="img/eye-off.svg")&&x(e,"src","img/eye-off.svg"),x(e,"alt","unchecked")},m(t,n){h(t,e,n)},i(t){r||J((()=>{r=lt(e,jt,{}),r.start()}))},o:t,d(t){t&&g(e)}}}function Jt(n){let e,o,r;return{c(){e=v("img"),I(e,"vertical-align","middle"),e.src!==(o="img/eye.svg")&&x(e,"src","img/eye.svg"),x(e,"alt","checked")},m(t,n){h(t,e,n)},i(t){r||J((()=>{r=lt(e,jt,{}),r.start()}))},o:t,d(t){t&&g(e)}}}function Xt(n){let e,o,r,i,s,l;function c(t,n){return t[0]?Jt:Yt}let a=c(n),u=a(n);return{c(){e=v("div"),o=v("div"),u.c(),r=b(),i=v("span"),i.textContent="Join as spectator",x(o,"class","checkboxContainer"),I(i,"padding-top","1px"),I(i,"float","left"),I(e,"cursor","pointer")},m(t,c){h(t,e,c),p(e,o),u.m(o,null),p(e,r),p(e,i),s||(l=k(e,"click",n[1]),s=!0)},p(t,[n]){a!==(a=c(t))&&(u.d(1),u=a(t),u&&(u.c(),rt(u,1),u.m(o,null)))},i(t){rt(u)},o:t,d(t){t&&g(e),u.d(),s=!1,l()}}}function Vt(t,n,e){let{isSpectator:o=!1}=n;const r=M();T((()=>{i(),i()}));const i=()=>{e(0,o=!o),r("setRole",o)};return t.$$set=t=>{"isSpectator"in t&&e(0,o=t.isSpectator)},[o,i]}class Wt extends ht{constructor(t){super(),pt(this,t,Vt,Xt,l,{isSpectator:0})}}function Gt(t){let n,e,o,r,s,l,c,a,u,m,d,f,$,y,w,_;return f=new Wt({props:{isSpectator:t[2]}}),f.$on("setRole",t[3]),{c(){n=v("div"),e=v("div"),o=v("input"),r=b(),s=v("label"),s.textContent="Please enter your username.",l=b(),c=v("input"),a=b(),u=v("div"),m=v("button"),m.textContent="submit",d=b(),mt(f.$$.fragment),x(o,"class","u-full-width"),x(o,"type","text"),x(o,"placeholder","Username"),x(o,"name","username"),x(o,"id","usernameInput"),x(o,"minlength","3"),x(o,"maxlength","12"),x(o,"autocomplete","off"),o.required=!0,x(s,"id","usernameLabel"),x(s,"for","usernameInput"),x(c,"type","hidden"),x(c,"name","room"),x(c,"id","roomIDInput"),x(e,"class","nine columns"),x(m,"class","button-primary button-submit u-full-width"),x(m,"type","submit"),x(m,"id","submitButton"),I(m,"transition","500ms"),x(u,"class","three columns"),x(n,"class","row"),I(n,"margin-top","15%")},m(i,g){h(i,n,g),p(n,e),p(e,o),E(o,t[0]),p(e,r),p(e,s),p(e,l),p(e,c),E(c,t[1]),p(n,a),p(n,u),p(u,m),p(u,d),dt(f,u,null),y=!0,w||(_=[k(o,"input",t[5]),k(c,"input",t[6]),k(m,"click",t[4])],w=!0)},p(t,[n]){1&n&&o.value!==t[0]&&E(o,t[0]),2&n&&E(c,t[1]);const e={};4&n&&(e.isSpectator=t[2]),f.$set(e)},i(t){y||(rt(f.$$.fragment,t),$||J((()=>{$=lt(n,jt,{}),$.start()})),y=!0)},o(t){it(f.$$.fragment,t),y=!1},d(t){t&&g(n),ft(f),w=!1,i(_)}}}function Kt(t,n,e){let o=localStorage.getItem("username")||"",r="",i=localStorage.getItem("role")||"member",s=!1;T((()=>{o&&document.getElementById("submitButton").focus(),"spectator"===i&&e(2,s=!0)}));return[o,r,s,t=>{t.detail&&(i="spectator"),t.detail||(i="member"),localStorage.setItem("role",i)},()=>{Ut(o)&&zt("00000")?qt(o,r,i):Ft()},function(){o=this.value,e(0,o)},function(){r=this.value,e(1,r)}]}function Qt(t){let n,e,o,r,s,l,c,a,u,m,d;return{c(){n=v("div"),e=v("input"),o=b(),r=v("label"),r.textContent="Please enter your username.",s=b(),l=v("div"),c=v("input"),a=b(),u=v("label"),u.textContent="Please enter the room-id.",x(e,"class","u-full-width"),x(e,"type","text"),x(e,"placeholder","Username"),x(e,"name","username"),x(e,"id","usernameInput"),x(e,"minlength","3"),x(e,"maxlength","12"),x(e,"autocomplete","off"),e.required=!0,x(r,"id","usernameLabel"),x(r,"for","usernameInput"),x(n,"class","five columns"),x(c,"class","u-full-width"),x(c,"type","text"),x(c,"placeholder","12345"),x(c,"name","room"),x(c,"id","roomIDInput"),x(c,"minlength","5"),x(c,"maxlength","5"),x(c,"autocomplete","off"),c.required=!0,x(u,"id","roomidLabel"),x(u,"for","roomIdInput"),x(l,"class","four columns")},m(i,f){h(i,n,f),p(n,e),E(e,t[0]),p(n,o),p(n,r),h(i,s,f),h(i,l,f),p(l,c),E(c,t[1]),p(l,a),p(l,u),m||(d=[k(e,"input",t[9]),k(c,"input",t[10])],m=!0)},p(t,n){1&n&&e.value!==t[0]&&E(e,t[0]),2&n&&c.value!==t[1]&&E(c,t[1])},d(t){t&&g(n),t&&g(s),t&&g(l),m=!1,i(d)}}}function Zt(t){let n,e,o,r,s,l,c,a;return{c(){n=v("div"),e=v("input"),o=b(),r=v("label"),r.textContent="Please enter your username.",s=b(),l=v("input"),x(e,"class","u-full-width"),x(e,"type","text"),x(e,"placeholder","Username"),x(e,"name","username"),x(e,"id","usernameInput"),x(e,"minlength","3"),x(e,"maxlength","12"),x(e,"autocomplete","off"),e.required=!0,x(r,"id","usernameLabel"),x(r,"for","usernameInput"),x(l,"type","hidden"),x(l,"name","room"),x(l,"id","roomIDInput"),x(n,"class","nine columns")},m(i,u){h(i,n,u),p(n,e),E(e,t[0]),p(n,o),p(n,r),p(n,s),p(n,l),E(l,t[1]),c||(a=[k(e,"input",t[7]),k(l,"input",t[8])],c=!0)},p(t,n){1&n&&e.value!==t[0]&&E(e,t[0]),2&n&&E(l,t[1])},d(t){t&&g(n),c=!1,i(a)}}}function tn(t){let n,e,o,r,i,s,l,c,a,u;function m(t,n){return t[3]?Zt:Qt}let d=m(t),f=d(t);return s=new Wt({props:{isSpectator:t[2]}}),s.$on("setRole",t[4]),{c(){n=v("div"),f.c(),e=b(),o=v("div"),r=v("button"),r.textContent="submit input",i=b(),mt(s.$$.fragment),x(r,"class","button-primary button-submit u-full-width"),x(r,"type","submit"),x(r,"id","submitButton"),I(r,"transition","500ms"),x(o,"class","three columns"),x(n,"class","row"),I(n,"margin-top","15%")},m(l,m){h(l,n,m),f.m(n,null),p(n,e),p(n,o),p(o,r),p(o,i),dt(s,o,null),c=!0,a||(u=k(r,"click",t[5]),a=!0)},p(t,[o]){d===(d=m(t))&&f?f.p(t,o):(f.d(1),f=d(t),f&&(f.c(),f.m(n,e)));const r={};4&o&&(r.isSpectator=t[2]),s.$set(r)},i(t){c||(rt(s.$$.fragment,t),l||J((()=>{l=lt(n,jt,{}),l.start()})),c=!0)},o(t){it(s.$$.fragment,t),c=!1},d(t){t&&g(n),f.d(),ft(s),a=!1,u()}}}function nn(t,n,e){let{params:o={}}=n,r=localStorage.getItem("username")||"",i="",s=localStorage.getItem("role")||"member",l=!1,c=!1;T((()=>{zt(o.id)&&(e(3,c=!0),e(1,i=o.id),document.getElementById("submitButton").focus()),"spectator"===s&&e(2,l=!0)}));return t.$$set=t=>{"params"in t&&e(6,o=t.params)},[r,i,l,c,t=>{t.detail&&(s="spectator"),t.detail||(s="member"),localStorage.setItem("role",s)},()=>{Ut(r)&&zt(i)?qt(r,i,s):Ft()},o,function(){r=this.value,e(0,r)},function(){i=this.value,e(1,i)},function(){r=this.value,e(0,r)},function(){i=this.value,e(1,i)}]}function en(n){let e,o,r,i,s;return{c(){e=v("div"),o=v("button"),r=y(n[0]),x(o,"id",n[0]),x(o,"class","u-full-width"),x(o,"onclick","this.blur();"),x(e,"class","two columns")},m(t,l){h(t,e,l),p(e,o),p(o,r),i||(s=k(o,"click",n[1]),i=!0)},p(t,[n]){1&n&&_(r,t[0]),1&n&&x(o,"id",t[0])},i:t,o:t,d(t){t&&g(e),i=!1,s()}}}function on(t,n,e){let{value:o}=n;const r=M();return t.$$set=t=>{"value"in t&&e(0,o=t.value)},[o,()=>{!function(t){let n=document.getElementsByClassName("button-primary-positive");0!==n.length&&n[0].classList.toggle("button-primary-positive"),n=document.getElementById(t),n.classList.toggle("button-primary-positive")}(o),r("setEstimation",o)}]}class rn extends ht{constructor(t){super(),pt(this,t,on,en,l,{value:0})}}function sn(n){let e,o;return{c(){e=v("h4"),o=y(n[0]),I(e,"visibility","hidden")},m(t,n){h(t,e,n),p(e,o)},p(t,n){1&n&&_(o,t[0])},i:t,o:t,d(t){t&&g(e)}}}function ln(e){let o,r,l,c;return{c(){o=v("h4"),r=y(e[0]),I(o,"text-align","center")},m(t,n){h(t,o,n),p(o,r),c=!0},p(t,n){(!c||1&n)&&_(r,t[0])},i(t){c||(l&&l.end(1),c=!0)},o(e){l=function(e,o,r){let l,c=o(e,r),u=!0;const m=nt;function d(){const{delay:o=0,duration:r=300,easing:s=n,tick:d=t,css:p}=c||st;p&&(l=A(e,1,0,r,o,s,p));const h=a()+o,g=h+r;J((()=>Z(e,!1,"start"))),f((t=>{if(u){if(t>=g)return d(0,1),Z(e,!1,"end"),--m.r||i(m.c),!1;if(t>=h){const n=s((t-h)/r);d(1-n,n)}}return u}))}return m.r+=1,s(c)?Q().then((()=>{c=c(),d()})):d(),{end(t){t&&c.tick&&c.tick(1,0),u&&(l&&R(e,l),u=!1)}}}(o,jt,{delay:2500,duration:500}),c=!1},d(t){t&&g(o),t&&l&&l.end()}}}function cn(t){let n,e,o,r;const i=[ln,sn],s=[];function l(t,n){return t[1]?0:1}return n=l(t),e=s[n]=i[n](t),{c(){e.c(),o=w()},m(t,e){s[n].m(t,e),h(t,o,e),r=!0},p(t,[r]){let c=n;n=l(t),n===c?s[n].p(t,r):(et(),it(s[c],1,1,(()=>{s[c]=null})),ot(),e=s[n],e?e.p(t,r):(e=s[n]=i[n](t),e.c()),rt(e,1),e.m(o.parentNode,o))},i(t){r||(rt(e),r=!0)},o(t){it(e),r=!1},d(t){s[n].d(t),t&&g(o)}}}function an(t,n,e){let{msg:o}=n,{transition:r}=n;return t.$$set=t=>{"msg"in t&&e(0,o=t.msg),"transition"in t&&e(1,r=t.transition)},[o,r]}class un extends ht{constructor(t){super(),pt(this,t,an,cn,l,{msg:0,transition:1})}}function mn(t){let n,e;return{c(){n=v("td"),e=y(t[0]),x(n,"id",t[1])},m(t,o){h(t,n,o),p(n,e)},p(t,o){1&o&&_(e,t[0]),2&o&&x(n,"id",t[1])},d(t){t&&g(n)}}}function dn(t){let n,e;return{c(){n=v("td"),e=y(t[0]),x(n,"id",t[1]),I(n,"color","#33C3F0")},m(t,o){h(t,n,o),p(n,e)},p(t,o){1&o&&_(e,t[0]),2&o&&x(n,"id",t[1])},d(t){t&&g(n)}}}function fn(t){let n;function e(t,n){return t[3]&&""!==t[2]?hn:pn}let o=e(t),r=o(t);return{c(){r.c(),n=w()},m(t,e){r.m(t,e),h(t,n,e)},p(t,i){o===(o=e(t))&&r?r.p(t,i):(r.d(1),r=o(t),r&&(r.c(),r.m(n.parentNode,n)))},d(t){r.d(t),t&&g(n)}}}function pn(t){let n,e;return{c(){n=v("td"),e=y(t[2]),x(n,"class","estimation")},m(t,o){h(t,n,o),p(n,e)},p(t,n){4&n&&_(e,t[2])},d(t){t&&g(n)}}}function hn(n){let e;return{c(){e=v("td"),e.innerHTML='<img src="/img/check.svg" alt="ready" style="vertical-align: middle;"/>',x(e,"class","estimation")},m(t,n){h(t,e,n)},p:t,d(t){t&&g(e)}}}function gn(n){let e,o;function r(t,n){return t[1]===t[4]?dn:mn}let i=r(n),s=i(n),l="spectator"!==n[2]&&fn(n);return{c(){e=v("tr"),s.c(),o=b(),l&&l.c()},m(t,n){h(t,e,n),s.m(e,null),p(e,o),l&&l.m(e,null)},p(t,[n]){i===(i=r(t))&&s?s.p(t,n):(s.d(1),s=i(t),s&&(s.c(),s.m(e,o))),"spectator"!==t[2]?l?l.p(t,n):(l=fn(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:t,o:t,d(t){t&&g(e),s.d(),l&&l.d()}}}function $n(t,n,e){let{name:o}=n,{id:r}=n,{estimation:i}=n,{isReady:s=!1}=n,{socketid:l}=n;return t.$$set=t=>{"name"in t&&e(0,o=t.name),"id"in t&&e(1,r=t.id),"estimation"in t&&e(2,i=t.estimation),"isReady"in t&&e(3,s=t.isReady),"socketid"in t&&e(4,l=t.socketid)},[o,r,i,s,l]}class vn extends ht{constructor(t){super(),pt(this,t,$n,gn,l,{name:0,id:1,estimation:2,isReady:3,socketid:4})}}function yn(n){let e,o,r,s,l,c,a,u,m,d,f,$,y,w,_,E;return{c(){e=v("div"),o=v("div"),r=v("div"),r.innerHTML='<div class="twelve columns" style="margin-bottom: 15%; margin-top: 10%; text-align: center">Do you really want to leave the lobby?</div>',s=b(),l=v("div"),c=v("div"),a=v("button"),a.textContent="stay",u=b(),m=v("div"),d=v("button"),d.textContent="leave",$=b(),y=v("div"),x(r,"class","row"),x(a,"class","button-primary-join u-full-width"),x(a,"onclick","this.blur();"),x(c,"class","six columns"),x(d,"class","button-primary-negative u-full-width"),x(d,"onclick","this.blur();"),x(m,"class","six columns"),x(l,"class","row"),I(l,"margin-bottom","10%"),x(o,"class","container"),x(e,"class","modal"),x(e,"id","modal"),x(y,"class","underlay")},m(t,i){var f;h(t,e,i),p(e,o),p(o,r),p(o,s),p(o,l),p(l,c),p(c,a),p(l,u),p(l,m),p(m,d),h(t,$,i),h(t,y,i),w=!0,_||(E=[k(window,"click",n[2]),k(a,"click",n[0]),k(d,"click",n[1]),k(e,"click",(f=n[3],function(t){return t.stopPropagation(),f.call(this,t)}))],_=!0)},p:t,i(t){w||(J((()=>{f||(f=ct(e,jt,{},!0)),f.run(1)})),w=!0)},o(t){f||(f=ct(e,jt,{},!1)),f.run(0),w=!1},d(t){t&&g(e),t&&f&&f.end(),t&&g($),t&&g(y),_=!1,i(E)}}}function bn(t){const n=M();let e=!1;const o=()=>{n("leave",!1)};return[o,()=>{n("leave",!0)},()=>{e&&o(),e=!0},function(n){D(t,n)}]}class wn extends ht{constructor(t){super(),pt(this,t,bn,yn,l,{})}}function kn(n){let e,o,r,i,s,l,c,a,u,m,d;return{c(){e=v("div"),o=v("h4"),r=y("room-id: \r\n        "),i=v("span"),s=y(n[0]),l=b(),c=v("div"),a=v("img"),x(i,"id","roomID"),x(i,"class","readycolor"),x(o,"class","u-pull-left"),I(o,"vertical-align","middle"),a.src!==(u="/img/copy.svg")&&x(a,"src","/img/copy.svg"),I(a,"cursor","pointer"),I(a,"vertical-align","middle"),x(a,"alt","share"),x(c,"class","u-pull-left copyicon")},m(t,u){h(t,e,u),p(e,o),p(o,r),p(o,i),p(i,s),p(e,l),p(e,c),p(c,a),m||(d=k(a,"click",n[1]),m=!0)},p(t,[n]){1&n&&_(s,t[0])},i:t,o:t,d(t){t&&g(e),m=!1,d()}}}function xn(t,n,e){let{id:o}=n;const r=M();return t.$$set=t=>{"id"in t&&e(0,o=t.id)},[o,()=>{r("copy")}]}class _n extends ht{constructor(t){super(),pt(this,t,xn,kn,l,{id:0})}}function En(t,n,e){const o=t.slice();return o[23]=n[e],o}function In(t,n,e){const o=t.slice();return o[23]=n[e],o}function Sn(t,n,e){const o=t.slice();return o[28]=n[e],o}function Cn(t,n,e){const o=t.slice();return o[31]=n[e],o}function Ln(n){let e,o;return e=new un({props:{msg:" ",transition:!1}}),{c(){mt(e.$$.fragment)},m(t,n){dt(e,t,n),o=!0},p:t,i(t){o||(rt(e.$$.fragment,t),o=!0)},o(t){it(e.$$.fragment,t),o=!1},d(t){ft(e,t)}}}function jn(t){let n,e;return n=new un({props:{msg:t[1],transition:!0}}),{c(){mt(n.$$.fragment)},m(t,o){dt(n,t,o),e=!0},p(t,e){const o={};2&e[0]&&(o.msg=t[1]),n.$set(o)},i(t){e||(rt(n.$$.fragment,t),e=!0)},o(t){it(n.$$.fragment,t),e=!1},d(t){ft(n,t)}}}function An(t){let n,e,o,r,i,s,l,c,a,u,m,d=t[3],f=[];for(let n=0;n<d.length;n+=1)f[n]=Bn(Cn(t,d,n));const w=t=>it(f[t],1,1,(()=>{f[t]=null}));return{c(){n=v("table"),e=v("thead"),e.innerHTML="<tr><th>Members</th> \n                            <th>Estimation</th></tr>",o=b(),r=v("tbody");for(let t=0;t<f.length;t+=1)f[t].c();i=b(),s=v("tr"),l=v("td"),l.textContent="Average",c=b(),a=v("td"),u=y(t[5]),x(a,"id","AuMgIVUHfSHpDpgMAAAB"),I(a,"color","#FCA311"),x(r,"id","playerlist"),x(n,"class","u-full-width")},m(t,d){h(t,n,d),p(n,e),p(n,o),p(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);p(r,i),p(r,s),p(s,l),p(s,c),p(s,a),p(a,u),m=!0},p(t,n){if(136&n[0]){let e;for(d=t[3],e=0;e<d.length;e+=1){const o=Cn(t,d,e);f[e]?(f[e].p(o,n),rt(f[e],1)):(f[e]=Bn(o),f[e].c(),rt(f[e],1),f[e].m(r,i))}for(et(),e=d.length;e<f.length;e+=1)w(e);ot()}(!m||32&n[0])&&_(u,t[5])},i(t){if(!m){for(let t=0;t<d.length;t+=1)rt(f[t]);m=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)it(f[t]);m=!1},d(t){t&&g(n),$(f,t)}}}function Rn(n){let e;return{c(){e=v("h4")},m(t,n){h(t,e,n)},p:t,i:t,o:t,d(t){t&&g(e)}}}function Bn(t){let n,e;return n=new vn({props:{name:t[31].username,id:t[31].id,estimation:t[31].estimation,isReady:t[7],socketid:socket.id}}),{c(){mt(n.$$.fragment)},m(t,o){dt(n,t,o),e=!0},p(t,e){const o={};8&e[0]&&(o.name=t[31].username),8&e[0]&&(o.id=t[31].id),8&e[0]&&(o.estimation=t[31].estimation),128&e[0]&&(o.isReady=t[7]),n.$set(o)},i(t){e||(rt(n.$$.fragment,t),e=!0)},o(t){it(n.$$.fragment,t),e=!1},d(t){ft(n,t)}}}function On(t){let n,e,o,r,i,s=t[4],l=[];for(let n=0;n<s.length;n+=1)l[n]=Mn(Sn(t,s,n));const c=t=>it(l[t],1,1,(()=>{l[t]=null}));return{c(){n=v("table"),e=v("thead"),e.innerHTML="<tr><th>Spectators</th></tr>",o=b(),r=v("tbody");for(let t=0;t<l.length;t+=1)l[t].c();x(r,"id","spectatorlist"),x(n,"class","u-full-width")},m(t,s){h(t,n,s),p(n,e),p(n,o),p(n,r);for(let t=0;t<l.length;t+=1)l[t].m(r,null);i=!0},p(t,n){if(16&n[0]){let e;for(s=t[4],e=0;e<s.length;e+=1){const o=Sn(t,s,e);l[e]?(l[e].p(o,n),rt(l[e],1)):(l[e]=Mn(o),l[e].c(),rt(l[e],1),l[e].m(r,null))}for(et(),e=s.length;e<l.length;e+=1)c(e);ot()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)rt(l[t]);i=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)it(l[t]);i=!1},d(t){t&&g(n),$(l,t)}}}function Tn(n){let e;return{c(){e=v("h4")},m(t,n){h(t,e,n)},p:t,i:t,o:t,d(t){t&&g(e)}}}function Mn(t){let n,e;return n=new vn({props:{name:t[28].username,id:t[28].id,estimation:"spectator",socketid:socket.id}}),{c(){mt(n.$$.fragment)},m(t,o){dt(n,t,o),e=!0},p(t,e){const o={};16&e[0]&&(o.name=t[28].username),16&e[0]&&(o.id=t[28].id),n.$set(o)},i(t){e||(rt(n.$$.fragment,t),e=!0)},o(t){it(n.$$.fragment,t),e=!1},d(t){ft(n,t)}}}function Dn(n){let e,o;return e=new rn({props:{value:n[23]}}),e.$on("setEstimation",n[13]),{c(){mt(e.$$.fragment)},m(t,n){dt(e,t,n),o=!0},p:t,i(t){o||(rt(e.$$.fragment,t),o=!0)},o(t){it(e.$$.fragment,t),o=!1},d(t){ft(e,t)}}}function Pn(n){let e,o;return e=new rn({props:{value:n[23]}}),e.$on("setEstimation",n[13]),{c(){mt(e.$$.fragment)},m(t,n){dt(e,t,n),o=!0},p:t,i(t){o||(rt(e.$$.fragment,t),o=!0)},o(t){it(e.$$.fragment,t),o=!1},d(t){ft(e,t)}}}function Nn(n){let e,o;return e=new wn({}),e.$on("leave",n[11]),{c(){mt(e.$$.fragment)},m(t,n){dt(e,t,n),o=!0},p:t,i(t){o||(rt(e.$$.fragment,t),o=!0)},o(t){it(e.$$.fragment,t),o=!1},d(t){ft(e,t)}}}function Hn(t){let n,e,o,r,s,l,c,a,u,m,d,f,y,_,E,S,C,L,j,A,R,B,O,T,M,D,P,N,H,q,U,z;r=new _n({props:{id:t[0]||"00000"}}),r.$on("copy",t[14]);const F=[jn,Ln],Y=[];function X(t,n){return t[2]?0:1}c=X(t),a=Y[c]=F[c](t);const V=[Rn,An],W=[];function G(t,n){return 0===t[3].length?0:1}L=G(t),j=W[L]=V[L](t);const K=[Tn,On],Q=[];function Z(t,n){return 0===t[4].length?0:1}T=Z(t),M=Q[T]=K[T](t);let tt="member"===Ht.role&&function(t){let n,e,o,r,i=t[8],s=[];for(let n=0;n<i.length;n+=1)s[n]=Dn(In(t,i,n));const l=t=>it(s[t],1,1,(()=>{s[t]=null}));let c=t[9],a=[];for(let n=0;n<c.length;n+=1)a[n]=Pn(En(t,c,n));const u=t=>it(a[t],1,1,(()=>{a[t]=null}));return{c(){n=v("div");for(let t=0;t<s.length;t+=1)s[t].c();e=b(),o=v("div");for(let t=0;t<a.length;t+=1)a[t].c();x(n,"class","row"),I(n,"margin-top","5%"),x(o,"class","row lowerrow")},m(t,i){h(t,n,i);for(let t=0;t<s.length;t+=1)s[t].m(n,null);h(t,e,i),h(t,o,i);for(let t=0;t<a.length;t+=1)a[t].m(o,null);r=!0},p(t,e){if(8448&e[0]){let o;for(i=t[8],o=0;o<i.length;o+=1){const r=In(t,i,o);s[o]?(s[o].p(r,e),rt(s[o],1)):(s[o]=Dn(r),s[o].c(),rt(s[o],1),s[o].m(n,null))}for(et(),o=i.length;o<s.length;o+=1)l(o);ot()}if(8704&e[0]){let n;for(c=t[9],n=0;n<c.length;n+=1){const r=En(t,c,n);a[n]?(a[n].p(r,e),rt(a[n],1)):(a[n]=Pn(r),a[n].c(),rt(a[n],1),a[n].m(o,null))}for(et(),n=c.length;n<a.length;n+=1)u(n);ot()}},i(t){if(!r){for(let t=0;t<i.length;t+=1)rt(s[t]);for(let t=0;t<c.length;t+=1)rt(a[t]);r=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)it(s[t]);a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)it(a[t]);r=!1},d(t){t&&g(n),$(s,t),t&&g(e),t&&g(o),$(a,t)}}}(t),nt=t[6]&&Nn(t);return{c(){n=v("div"),e=v("div"),o=v("div"),mt(r.$$.fragment),s=b(),l=v("div"),a.c(),u=b(),m=v("div"),d=v("button"),d.textContent="reset",f=b(),y=v("div"),_=v("button"),_.textContent="leave",E=b(),S=v("div"),C=v("div"),j.c(),A=b(),R=v("div"),R.innerHTML="<h4></h4>",B=b(),O=v("div"),M.c(),D=b(),tt&&tt.c(),N=b(),nt&&nt.c(),H=w(),x(o,"class","four columns"),x(l,"class","four columns"),x(l,"id","bannerfield"),x(d,"class","button-primary-join u-full-width"),I(d,"display","grid"),I(d,"place-items","center"),x(d,"onclick","this.blur();"),x(m,"class","two columns"),x(_,"class","button-primary-negative u-full-width"),x(y,"class","two columns"),x(e,"class","row"),I(e,"margin-top","15%"),x(C,"class","four columns"),x(R,"class","six columns"),x(O,"class","two columns"),x(S,"class","row"),I(S,"margin-top","5%"),x(n,"class","content")},m(i,a){h(i,n,a),p(n,e),p(e,o),dt(r,o,null),p(e,s),p(e,l),Y[c].m(l,null),p(e,u),p(e,m),p(m,d),p(e,f),p(e,y),p(y,_),p(n,E),p(n,S),p(S,C),W[L].m(C,null),p(S,A),p(S,R),p(S,B),p(S,O),Q[T].m(O,null),p(n,D),tt&&tt.m(n,null),h(i,N,a),nt&&nt.m(i,a),h(i,H,a),q=!0,U||(z=[k(d,"click",t[12]),k(_,"click",t[10])],U=!0)},p(t,n){const e={};1&n[0]&&(e.id=t[0]||"00000"),r.$set(e);let o=c;c=X(t),c===o?Y[c].p(t,n):(et(),it(Y[o],1,1,(()=>{Y[o]=null})),ot(),a=Y[c],a?a.p(t,n):(a=Y[c]=F[c](t),a.c()),rt(a,1),a.m(l,null));let i=L;L=G(t),L===i?W[L].p(t,n):(et(),it(W[i],1,1,(()=>{W[i]=null})),ot(),j=W[L],j?j.p(t,n):(j=W[L]=V[L](t),j.c()),rt(j,1),j.m(C,null));let s=T;T=Z(t),T===s?Q[T].p(t,n):(et(),it(Q[s],1,1,(()=>{Q[s]=null})),ot(),M=Q[T],M?M.p(t,n):(M=Q[T]=K[T](t),M.c()),rt(M,1),M.m(O,null)),"member"===Ht.role&&tt.p(t,n),t[6]?nt?(nt.p(t,n),64&n[0]&&rt(nt,1)):(nt=Nn(t),nt.c(),rt(nt,1),nt.m(H.parentNode,H)):nt&&(et(),it(nt,1,1,(()=>{nt=null})),ot())},i(t){q||(rt(r.$$.fragment,t),rt(a),rt(j),rt(M),rt(tt),P||J((()=>{P=lt(n,jt,{}),P.start()})),rt(nt),q=!0)},o(t){it(r.$$.fragment,t),it(a),it(j),it(M),it(tt),it(nt),q=!1},d(t){t&&g(n),ft(r),Y[c].d(),W[L].d(),Q[T].d(),tt&&tt.d(),t&&g(N),nt&&nt.d(t),t&&g(H),U=!1,i(z)}}}function qn(t,n,e){let o,{params:r={}}=n,i="",s=!1,l=[],c=[],a="",u=0,m=!1,d=!0;var f;T((()=>{e(0,o=r.id),socket.connected||(localStorage.getItem("username"),localStorage.getItem("role"),It("/join/"+o)),socket.emit("ready")})),f=()=>{socket.disconnect()},O().$$.on_destroy.push(f);const p=()=>{let t=document.getElementsByClassName("content");for(let n=0;n<t.length;n++)t[n].classList.toggle("is-blurred");e(6,m=!m)};function h(t){e(1,i=t),e(2,s=!0),setTimeout((function(){e(2,s=!1)}),1)}socket.on("resetReveal",(function(){e(7,d=!0),e(5,a="")})),socket.on("bannermessage",(t=>{h(t)})),socket.on("roomUsers",(({users:t})=>{e(3,l=[]),e(4,c=[]),e(3,l=t.filter((t=>"member"===t.role))),e(4,c=t.filter((t=>"spectator"===t.role)))}));function g(t){let n=l.findIndex((n=>n.id==t.id));""===l[n].estimation&&(l.length-1!==u&&(t.isReady=!0),u++),e(3,l[n]=t,l)}socket.on("newEstimation",(t=>{g(t)})),socket.on("reveal",(t=>{!function(){let t=0,n=0;e(5,a="");for(let e=0;e<l.length;e++){let o=l[e].estimation;""!==o&&"?"!==o&&"coffee"!==o&&(t+=parseInt(l[e].estimation),n++)}0!==n&&(t=Math.round(t/n*100)/100,e(5,a=t.toString()))}(),e(7,d=!1)})),socket.on("emptyList",(t=>{!function(){for(let t=0;t<l.length;t++)e(3,l[t].estimation="",l);e(7,d=!0);let t=document.getElementsByClassName("button-primary-positive");void 0!==t[0]&&t[0].classList.remove("button-primary-positive");e(5,a=""),u=0,h("Estimations reseted.")}()}));return t.$$set=t=>{"params"in t&&e(15,r=t.params)},[o,i,s,l,c,a,m,d,["0","1","2","3","5","8"],["13","20","40","100","?","coffee"],()=>{e(2,s=!1),p()},t=>{p(),t.detail&&setTimeout((function(){It("/")}),10)},()=>{socket.emit("reset","")},t=>{let n=l.find((t=>t.id===socket.id)),e=Object.assign({},n);e.estimation!==t.detail&&(e.estimation=t.detail,g(e),socket.emit("estimated",t.detail))},()=>{var t;t="https://planning-poker-test.herokuapp.com/#/room/"+o,navigator.clipboard.writeText(t).then((function(){}),(function(t){console.error("Async: Could not copy text: ",t)})),h("Invitation link copied.")},r]}function Un(n){let e,o;return{c(){e=v("div"),e.innerHTML='<div class="twelve columns" style="margin-bottom: 10%;"><h3>404 not found.</h3> \n        <a href="https://planning-poker-test.herokuapp.com" style="font-size: 15px">Back to the main menu</a> \n        <span></span></div>',x(e,"class","row"),I(e,"margin-top","15%"),I(e,"margin-bottom","5%")},m(t,n){h(t,e,n)},p:t,i(t){o||J((()=>{o=lt(e,jt,{}),o.start()}))},o:t,d(t){t&&g(e)}}}var zn={"/":class extends ht{constructor(t){super(),pt(this,t,Nt,Pt,l,{onload:2})}get onload(){return this.$$.ctx[2]}},"/start":class extends ht{constructor(t){super(),pt(this,t,Kt,Gt,l,{})}},"/join/:id?":class extends ht{constructor(t){super(),pt(this,t,nn,tn,l,{params:6})}},"/room/:id":class extends ht{constructor(t){super(),pt(this,t,qn,Hn,l,{params:15},[-1,-1])}},"*":class extends ht{constructor(t){super(),pt(this,t,null,Un,l,{})}}};function Fn(n){let e,o,r,i,s,l;return o=new Dt({}),s=new Ct({props:{routes:zn}}),{c(){e=v("main"),mt(o.$$.fragment),r=b(),i=v("div"),mt(s.$$.fragment),x(i,"class","container")},m(t,n){h(t,e,n),dt(o,e,null),p(e,r),p(e,i),dt(s,i,null),l=!0},p:t,i(t){l||(rt(o.$$.fragment,t),rt(s.$$.fragment,t),l=!0)},o(t){it(o.$$.fragment,t),it(s.$$.fragment,t),l=!1},d(t){t&&g(e),ft(o),ft(s)}}}function Yn(t){return socket.on("newRoom",(t=>{Et("/room/"+t)})),[]}return new class extends ht{constructor(t){super(),pt(this,t,Yn,Fn,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
