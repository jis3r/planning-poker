var app=function(t){"use strict";function e(){}const n=t=>t;function o(t,e){for(const n in e)t[n]=e[n];return t}function i(t){return t()}function s(){return Object.create(null)}function r(t){t.forEach(i)}function l(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const c="undefined"!=typeof window;let u=c?()=>window.performance.now():()=>Date.now(),m=c?t=>requestAnimationFrame(t):e;const d=new Set;function f(t){d.forEach((e=>{e.c(t)||(d.delete(e),e.f())})),0!==d.size&&m(f)}function p(t){let e;return 0===d.size&&m(f),{promise:new Promise((n=>{d.add(e={c:t,f:n})})),abort(){d.delete(e)}}}function h(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function y(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function b(t){return document.createTextNode(t)}function w(){return b(" ")}function k(){return b("")}function x(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function I(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function S(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function L(t,e,n){t.classList[n?"add":"remove"](e)}function T(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const j=new Set;let C,D=0;function A(t,e,n,o,i,s,r,l=0){const a=16.666/o;let c="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*s(t);c+=100*t+`%{${r(o,1-o)}}\n`}const u=c+`100% {${r(n,1-n)}}\n}`,m=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`,d=t.ownerDocument;j.add(d);const f=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild($("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[m]||(p[m]=!0,f.insertRule(`@keyframes ${m} ${u}`,f.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${m} ${o}ms linear ${i}ms 1 both`,D+=1,m}function R(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-o.length;i&&(t.style.animation=o.join(", "),D-=i,D||m((()=>{D||(j.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),j.clear())})))}function M(t){C=t}function B(){if(!C)throw new Error("Function called outside component initialization");return C}function H(t){B().$$.on_mount.push(t)}function O(){const t=B();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const i=T(e,n);o.slice().forEach((e=>{e.call(t,i)}))}}}function N(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const P=[],q=[],z=[],U=[],J=Promise.resolve();let F=!1;function Y(){F||(F=!0,J.then(K))}function X(){return Y(),J}function W(t){z.push(t)}let V=!1;const G=new Set;function K(){if(!V){V=!0;do{for(let t=0;t<P.length;t+=1){const e=P[t];M(e),Q(e.$$)}for(M(null),P.length=0;q.length;)q.pop()();for(let t=0;t<z.length;t+=1){const e=z[t];G.has(e)||(G.add(e),e())}z.length=0}while(P.length);for(;U.length;)U.pop()();F=!1,V=!1,G.clear()}}function Q(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}let Z;function tt(){return Z||(Z=Promise.resolve(),Z.then((()=>{Z=null}))),Z}function et(t,e,n){t.dispatchEvent(T(`${e?"intro":"outro"}${n}`))}const nt=new Set;let ot;function it(){ot={r:0,c:[],p:ot}}function st(){ot.r||r(ot.c),ot=ot.p}function rt(t,e){t&&t.i&&(nt.delete(t),t.i(e))}function lt(t,e,n,o){if(t&&t.o){if(nt.has(t))return;nt.add(t),ot.c.push((()=>{nt.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const at={duration:0};function ct(t,o,i){let s,r,a=o(t,i),c=!1,m=0;function d(){s&&R(t,s)}function f(){const{delay:o=0,duration:i=300,easing:l=n,tick:f=e,css:h}=a||at;h&&(s=A(t,0,1,i,o,l,h,m++)),f(0,1);const g=u()+o,v=g+i;r&&r.abort(),c=!0,W((()=>et(t,!0,"start"))),r=p((e=>{if(c){if(e>=v)return f(1,0),et(t,!0,"end"),d(),c=!1;if(e>=g){const t=l((e-g)/i);f(t,1-t)}}return c}))}let h=!1;return{start(){h||(R(t),l(a)?(a=a(),tt().then(f)):f())},invalidate(){h=!1},end(){c&&(d(),c=!1)}}}function ut(t,o,i,s){let a=o(t,i),c=s?0:1,m=null,d=null,f=null;function h(){f&&R(t,f)}function g(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function v(o){const{delay:i=0,duration:s=300,easing:l=n,tick:v=e,css:y}=a||at,$={start:u()+i,b:o};o||($.group=ot,ot.r+=1),m||d?d=$:(y&&(h(),f=A(t,c,o,s,i,l,y)),o&&v(0,1),m=g($,s),W((()=>et(t,o,"start"))),p((e=>{if(d&&e>d.start&&(m=g(d,s),d=null,et(t,m.b,"start"),y&&(h(),f=A(t,c,m.b,m.duration,0,l,a.css))),m)if(e>=m.end)v(c=m.b,1-c),et(t,m.b,"end"),d||(m.b?h():--m.group.r||r(m.group.c)),m=null;else if(e>=m.start){const t=e-m.start;c=m.a+m.d*l(t/m.duration),v(c,1-c)}return!(!m&&!d)})))}return{run(t){l(a)?tt().then((()=>{a=a(),v(t)})):v(t)},end(){h(),m=d=null}}}function mt(t,e){const n={},o={},i={$$scope:1};let s=t.length;for(;s--;){const r=t[s],l=e[s];if(l){for(const t in r)t in l||(o[t]=1);for(const t in l)i[t]||(n[t]=l[t],i[t]=1);t[s]=l}else for(const t in r)i[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function dt(t){return"object"==typeof t&&null!==t?t:{}}function ft(t){t&&t.c()}function pt(t,e,n,o){const{fragment:s,on_mount:a,on_destroy:c,after_update:u}=t.$$;s&&s.m(e,n),o||W((()=>{const e=a.map(i).filter(l);c?c.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(W)}function ht(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function gt(t,n,o,i,l,a,c=[-1]){const u=C;M(t);const m=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:l,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:c,skip_bound:!1};let d=!1;if(m.ctx=o?o(t,n.props||{},((e,n,...o)=>{const i=o.length?o[0]:n;return m.ctx&&l(m.ctx[e],m.ctx[e]=i)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](i),d&&function(t,e){-1===t.$$.dirty[0]&&(P.push(t),Y(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],m.update(),d=!0,r(m.before_update),m.fragment=!!i&&i(m.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);m.fragment&&m.fragment.l(t),t.forEach(v)}else m.fragment&&m.fragment.c();n.intro&&rt(t.$$.fragment),pt(t,n.target,n.anchor,n.customElement),K()}M(u)}class vt{$destroy(){ht(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const yt=[];function $t(t,e){return{subscribe:bt(t,e).subscribe}}function bt(t,n=e){let o;const i=[];function s(e){if(a(t,e)&&(t=e,o)){const e=!yt.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),yt.push(n,t)}if(e){for(let t=0;t<yt.length;t+=2)yt[t][0](yt[t+1]);yt.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(r,l=e){const a=[r,l];return i.push(a),1===i.length&&(o=n(s)||e),r(t),()=>{const t=i.indexOf(a);-1!==t&&i.splice(t,1),0===i.length&&(o(),o=null)}}}}function wt(t,n,o){const i=!Array.isArray(t),s=i?[t]:t,a=n.length<2;return $t(o,(t=>{let o=!1;const c=[];let u=0,m=e;const d=()=>{if(u)return;m();const o=n(i?c[0]:c,t);a?t(o):m=l(o)?o:e},f=s.map(((t,n)=>function(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(t,(t=>{c[n]=t,u&=~(1<<n),o&&d()}),(()=>{u|=1<<n}))));return o=!0,d(),function(){r(f),m()}}))}function kt(t){let e,n,i;const s=[t[2]];var r=t[0];function l(t){let e={};for(let t=0;t<s.length;t+=1)e=o(e,s[t]);return{props:e}}return r&&(e=new r(l()),e.$on("routeEvent",t[7])),{c(){e&&ft(e.$$.fragment),n=k()},m(t,o){e&&pt(e,t,o),g(t,n,o),i=!0},p(t,o){const i=4&o?mt(s,[dt(t[2])]):{};if(r!==(r=t[0])){if(e){it();const t=e;lt(t.$$.fragment,1,0,(()=>{ht(t,1)})),st()}r?(e=new r(l()),e.$on("routeEvent",t[7]),ft(e.$$.fragment),rt(e.$$.fragment,1),pt(e,n.parentNode,n)):e=null}else r&&e.$set(i)},i(t){i||(e&&rt(e.$$.fragment,t),i=!0)},o(t){e&&lt(e.$$.fragment,t),i=!1},d(t){t&&v(n),e&&ht(e,t)}}}function xt(t){let e,n,i;const s=[{params:t[1]},t[2]];var r=t[0];function l(t){let e={};for(let t=0;t<s.length;t+=1)e=o(e,s[t]);return{props:e}}return r&&(e=new r(l()),e.$on("routeEvent",t[6])),{c(){e&&ft(e.$$.fragment),n=k()},m(t,o){e&&pt(e,t,o),g(t,n,o),i=!0},p(t,o){const i=6&o?mt(s,[2&o&&{params:t[1]},4&o&&dt(t[2])]):{};if(r!==(r=t[0])){if(e){it();const t=e;lt(t.$$.fragment,1,0,(()=>{ht(t,1)})),st()}r?(e=new r(l()),e.$on("routeEvent",t[6]),ft(e.$$.fragment),rt(e.$$.fragment,1),pt(e,n.parentNode,n)):e=null}else r&&e.$set(i)},i(t){i||(e&&rt(e.$$.fragment,t),i=!0)},o(t){e&&lt(e.$$.fragment,t),i=!1},d(t){t&&v(n),e&&ht(e,t)}}}function It(t){let e,n,o,i;const s=[xt,kt],r=[];function l(t,e){return t[1]?0:1}return e=l(t),n=r[e]=s[e](t),{c(){n.c(),o=k()},m(t,n){r[e].m(t,n),g(t,o,n),i=!0},p(t,[i]){let a=e;e=l(t),e===a?r[e].p(t,i):(it(),lt(r[a],1,1,(()=>{r[a]=null})),st(),n=r[e],n?n.p(t,i):(n=r[e]=s[e](t),n.c()),rt(n,1),n.m(o.parentNode,o))},i(t){i||(rt(n),i=!0)},o(t){lt(n),i=!1},d(t){r[e].d(t),t&&v(o)}}}function Et(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const _t=$t(null,(function(t){t(Et());const e=()=>{t(Et())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));async function St(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await X(),history.replaceState({scrollX:window.scrollX,scrollY:window.scrollY},void 0,void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}async function Lt(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await X();const e=("#"==t.charAt(0)?"":"#")+t;try{window.history.replaceState(void 0,void 0,e)}catch(t){console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Tt(t,e,n){let{routes:o={}}=e,{prefix:i=""}=e,{restoreScrollState:s=!1}=e;class r{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:o}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,o,i,s,r=[],l="",a=t.split("/");for(a[0]||a.shift();i=a.shift();)"*"===(n=i[0])?(r.push("wild"),l+="/(.*)"):":"===n?(o=i.indexOf("?",1),s=i.indexOf(".",1),r.push(i.substring(1,~o?o:~s?s:i.length)),l+=~o&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~o?"?":"")+"\\"+i.substring(s))):l+="/"+i;return{keys:r,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=o}match(t){if(i)if("string"==typeof i){if(!t.startsWith(i))return null;t=t.substr(i.length)||"/"}else if(i instanceof RegExp){const e=t.match(i);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let o=0;for(;o<this._keys.length;){try{n[this._keys[o]]=decodeURIComponent(e[o+1]||"")||null}catch(t){n[this._keys[o]]=null}o++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const l=[];o instanceof Map?o.forEach(((t,e)=>{l.push(new r(e,t))})):Object.keys(o).forEach((t=>{l.push(new r(t,o[t]))}));let a=null,c=null,u={};const m=O();async function d(t,e){await X(),m(t,e)}let f=null;var p;s&&(window.addEventListener("popstate",(t=>{f=t.state&&t.state.scrollY?t.state:null})),p=()=>{f?window.scrollTo(f.scrollX,f.scrollY):window.scrollTo(0,0)},B().$$.after_update.push(p));let h=null,g=null;return _t.subscribe((async t=>{h=t;let e=0;for(;e<l.length;){const o=l[e].match(t.location);if(!o){e++;continue}const i={route:l[e].path,location:t.location,querystring:t.querystring,userData:l[e].userData};if(!await l[e].checkConditions(i))return n(0,a=null),g=null,void d("conditionsFailed",i);d("routeLoading",Object.assign({},i));const s=l[e].component;if(g!=s){s.loading?(n(0,a=s.loading),g=s,n(1,c=s.loadingParams),n(2,u={}),d("routeLoaded",Object.assign({},i,{component:a,name:a.name}))):(n(0,a=null),g=null);const e=await s();if(t!=h)return;n(0,a=e&&e.default||e),g=s}return o&&"object"==typeof o&&Object.keys(o).length?n(1,c=o):n(1,c=null),n(2,u=l[e].props),void d("routeLoaded",Object.assign({},i,{component:a,name:a.name}))}n(0,a=null),g=null})),t.$$set=t=>{"routes"in t&&n(3,o=t.routes),"prefix"in t&&n(4,i=t.prefix),"restoreScrollState"in t&&n(5,s=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=s?"manual":"auto")},[a,c,u,o,i,s,function(e){N(t,e)},function(e){N(t,e)}]}wt(_t,(t=>t.location)),wt(_t,(t=>t.querystring));class jt extends vt{constructor(t){super(),gt(this,t,Tt,It,a,{routes:3,prefix:4,restoreScrollState:5})}}function Ct(t){const e=t-1;return e*e*e+1}function Dt(t,{delay:e=0,duration:o=400,easing:i=n}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:o,easing:i,css:t=>"opacity: "+t*s}}function At(t,{delay:e=0,duration:n=400,easing:o=Ct,x:i=0,y:s=0,opacity:r=0}={}){const l=getComputedStyle(t),a=+l.opacity,c="none"===l.transform?"":l.transform,u=a*(1-r);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*i}px, ${(1-t)*s}px);\n\t\t\topacity: ${a-u*e}`}}function Rt(t){let n,o,i;return{c(){n=$("img"),I(n,"id","themeIcon"),n.src!==(o="img/moon.svg")&&I(n,"src","img/moon.svg"),I(n,"alt","moon")},m(t,e){g(t,n,e)},i(t){i||W((()=>{i=ct(n,At,{y:50,duration:500}),i.start()}))},o:e,d(t){t&&v(n)}}}function Mt(t){let n,o,i;return{c(){n=$("img"),I(n,"id","themeIcon"),n.src!==(o="img/sun.svg")&&I(n,"src","img/sun.svg"),I(n,"alt","sun")},m(t,e){g(t,n,e)},i(t){i||W((()=>{i=ct(n,At,{y:50,duration:500}),i.start()}))},o:e,d(t){t&&v(n)}}}function Bt(t){let n,o,i,s,l,a,c,u,m;function d(t,e){return t[0]?Mt:Rt}let f=d(t),p=f(t);return{c(){n=$("div"),o=$("div"),i=$("div"),i.innerHTML='<img src="img/logo.svg" alt="logo" class="navbaricon logo u-pull-left" style=""/> \n            <h6 class="header-title u-pull-left" style="margin-bottom: 0"><strong>Planning Poker</strong></h6>',s=w(),l=$("div"),p.c(),a=w(),c=$("a"),c.innerHTML='<img src="img/help-circle.svg" alt="help" class="navbaricon icon-basic u-pull-right" style="margin-right: 1rem"/>',S(i,"cursor","pointer"),I(l,"id","darkmodetrigger"),I(l,"class","navbaricon darkmodetrigger u-pull-right"),I(c,"href","https://planning-poker-live.herokuapp.com/#/tutorial"),I(c,"target","_blank"),I(o,"id","header"),I(o,"class","header"),I(n,"class","content")},m(e,r){g(e,n,r),h(n,o),h(o,i),h(o,s),h(o,l),p.m(l,null),h(o,a),h(o,c),u||(m=[x(i,"click",t[1]),x(l,"click",t[2])],u=!0)},p(t,[e]){f!==(f=d(t))&&(p.d(1),p=f(t),p&&(p.c(),rt(p,1),p.m(l,null)))},i(t){rt(p)},o:e,d(t){t&&v(n),p.d(),u=!1,r(m)}}}function Ht(t){let e=document.getElementById("themeStyle");void 0===localStorage.getItem("theme")&&localStorage.setItem("theme","css/dark.css"),t?(e.setAttribute("href","css/dark.css"),localStorage.setItem("theme","css/dark.css")):(e.setAttribute("href","css/light.css"),localStorage.setItem("theme","css/light.css"))}function Ot(t,e,n){let o=!0;return H((()=>{"css/light.css"===localStorage.getItem("theme")&&(n(0,o=!1),Ht(o))})),[o,t=>{t.preventDefault(),Lt("/")},function(){n(0,o=!o),Ht(o)}]}class Nt extends vt{constructor(t){super(),gt(this,t,Ot,Bt,a,{})}}function Pt(t){let n,o,i,s,l,a,c,u,m,d;return{c(){n=$("div"),o=$("div"),o.innerHTML='<h3>A simple, online planning poker tool.</h3> \n        <span style="font-size: 15px">Just start a session or join an existing one to estimate your user stories.</span>',i=w(),s=$("div"),l=$("button"),l.textContent="Start",a=w(),c=$("button"),c.textContent="Join",I(o,"class","nine columns"),S(o,"margin-bottom","10%"),I(l,"class","button-primary-start u-full-width"),I(c,"class","button-primary-join u-full-width"),I(s,"class","three columns indexbuttons"),S(s,"margin-bottom","10%"),I(n,"class","row"),S(n,"margin-top","15%"),S(n,"margin-bottom","5%")},m(e,r){g(e,n,r),h(n,o),h(n,i),h(n,s),h(s,l),h(s,a),h(s,c),m||(d=[x(l,"click",t[0]),x(c,"click",t[1])],m=!0)},p:e,i(t){u||W((()=>{u=ct(n,Dt,{}),u.start()}))},o:e,d(t){t&&v(n),m=!1,r(d)}}}function qt(t,e,n){return[()=>{St("/start")},()=>{St("/join")},null]}let zt={username:"",roomID:"",role:"member"};function Ut(t,e,n="member"){zt.username=t||"user",zt.roomID=e||"",zt.role=n,localStorage.setItem("username",t),localStorage.setItem("role",n),socket.connect(),socket.emit("joinRoom",zt)}function Jt(t){return t.length>2&&t.length<13}function Ft(t){return null!==t&&5===t.length&&null!==t.match(/^[0-9]+$/)}function Yt(){let t=document.getElementById("submitButton");t.classList.add("button-primary-negative"),setTimeout((function(){t.classList.remove("button-primary-negative")}),300)}function Xt(t){let n,o,i;return{c(){n=$("img"),S(n,"vertical-align","middle"),n.src!==(o="img/eye-off.svg")&&I(n,"src","img/eye-off.svg"),I(n,"alt","unchecked")},m(t,e){g(t,n,e)},i(t){i||W((()=>{i=ct(n,Dt,{}),i.start()}))},o:e,d(t){t&&v(n)}}}function Wt(t){let n,o,i;return{c(){n=$("img"),S(n,"vertical-align","middle"),n.src!==(o="img/eye.svg")&&I(n,"src","img/eye.svg"),I(n,"alt","checked")},m(t,e){g(t,n,e)},i(t){i||W((()=>{i=ct(n,Dt,{}),i.start()}))},o:e,d(t){t&&v(n)}}}function Vt(t){let n,o,i,s,r,l;function a(t,e){return t[0]?Wt:Xt}let c=a(t),u=c(t);return{c(){n=$("div"),o=$("div"),u.c(),i=w(),s=$("span"),s.textContent="Join as spectator",I(o,"class","checkboxContainer"),S(s,"padding-top","1px"),S(s,"float","left"),S(n,"cursor","pointer")},m(e,a){g(e,n,a),h(n,o),u.m(o,null),h(n,i),h(n,s),r||(l=x(n,"click",t[1]),r=!0)},p(t,[e]){c!==(c=a(t))&&(u.d(1),u=c(t),u&&(u.c(),rt(u,1),u.m(o,null)))},i(t){rt(u)},o:e,d(t){t&&v(n),u.d(),r=!1,l()}}}function Gt(t,e,n){let{isSpectator:o=!1}=e;const i=O();H((()=>{s(),s()}));const s=()=>{n(0,o=!o),i("setRole",o)};return t.$$set=t=>{"isSpectator"in t&&n(0,o=t.isSpectator)},[o,s]}class Kt extends vt{constructor(t){super(),gt(this,t,Gt,Vt,a,{isSpectator:0})}}function Qt(t){let n;return{c(){n=b("start")},m(t,e){g(t,n,e)},i:e,o:e,d(t){t&&v(n)}}}function Zt(e){let n,o,i,s;return i=new t.SpinLine({props:{size:"50",color:"#C9D1D9",duration:"5s"}}),{c(){n=$("div"),o=$("div"),ft(i.$$.fragment),I(o,"class","u-pull-left"),S(n,"display","inline-block"),S(n,"vertical-align","middle")},m(t,e){g(t,n,e),h(n,o),pt(i,o,null),s=!0},i(t){s||(rt(i.$$.fragment,t),s=!0)},o(t){lt(i.$$.fragment,t),s=!1},d(t){t&&v(n),ht(i)}}}function te(t){let e,n,o,i,s,l,a,c,u,m,d,f,p,y,b,k,E,L;const T=[Zt,Qt],j=[];function C(t,e){return t[3]?0:1}return d=C(t),f=j[d]=T[d](t),y=new Kt({props:{isSpectator:t[2]}}),y.$on("setRole",t[4]),{c(){e=$("div"),n=$("div"),o=$("input"),i=w(),s=$("label"),s.textContent="Please enter your username.",l=w(),a=$("input"),c=w(),u=$("div"),m=$("button"),f.c(),p=w(),ft(y.$$.fragment),I(o,"class","u-full-width"),I(o,"type","text"),I(o,"placeholder","Username"),I(o,"name","username"),I(o,"id","usernameInput"),I(o,"minlength","3"),I(o,"maxlength","12"),I(o,"autocomplete","off"),o.required=!0,I(s,"id","usernameLabel"),I(s,"for","usernameInput"),I(a,"type","hidden"),I(a,"name","room"),I(a,"id","roomIDInput"),I(n,"class","nine columns"),I(m,"class","button-primary button-submit u-full-width"),I(m,"type","submit"),I(m,"id","submitButton"),S(m,"transition","500ms"),I(m,"onclick","this.blur();"),m.disabled=t[3],I(u,"class","three columns"),I(e,"class","row"),S(e,"margin-top","15%")},m(r,f){g(r,e,f),h(e,n),h(n,o),_(o,t[0]),h(n,i),h(n,s),h(n,l),h(n,a),_(a,t[1]),h(e,c),h(e,u),h(u,m),j[d].m(m,null),h(u,p),pt(y,u,null),k=!0,E||(L=[x(o,"input",t[6]),x(a,"input",t[7]),x(m,"click",t[5])],E=!0)},p(t,[e]){1&e&&o.value!==t[0]&&_(o,t[0]),2&e&&_(a,t[1]);let n=d;d=C(t),d!==n&&(it(),lt(j[n],1,1,(()=>{j[n]=null})),st(),f=j[d],f||(f=j[d]=T[d](t),f.c()),rt(f,1),f.m(m,null)),(!k||8&e)&&(m.disabled=t[3]);const i={};4&e&&(i.isSpectator=t[2]),y.$set(i)},i(t){k||(rt(f),rt(y.$$.fragment,t),b||W((()=>{b=ct(e,Dt,{}),b.start()})),k=!0)},o(t){lt(f),lt(y.$$.fragment,t),k=!1},d(t){t&&v(e),j[d].d(),ht(y),E=!1,r(L)}}}function ee(t,e,n){let o=localStorage.getItem("username")||"",i="",s=localStorage.getItem("role")||"member",r=!1,l=!1;H((()=>{o&&document.getElementById("submitButton").focus(),"spectator"===s&&n(2,r=!0)}));return[o,i,r,l,t=>{t.detail&&(s="spectator"),t.detail||(s="member"),localStorage.setItem("role",s)},()=>{n(3,l=!0),Jt(o)&&Ft("00000")?setTimeout((()=>Ut(o,i,s)),1e3):(Yt(),n(3,l=!1))},function(){o=this.value,n(0,o)},function(){i=this.value,n(1,i)}]}function ne(t){let e,n,o,i,s,l,a,c,u,m,d;return{c(){e=$("div"),n=$("input"),o=w(),i=$("label"),i.textContent="Please enter your username.",s=w(),l=$("div"),a=$("input"),c=w(),u=$("label"),u.textContent="Please enter the room-id.",I(n,"class","u-full-width"),I(n,"type","text"),I(n,"placeholder","Username"),I(n,"name","username"),I(n,"id","usernameInput"),I(n,"minlength","3"),I(n,"maxlength","12"),I(n,"autocomplete","off"),n.required=!0,I(i,"id","usernameLabel"),I(i,"for","usernameInput"),I(e,"class","five columns"),I(a,"class","u-full-width"),I(a,"type","text"),I(a,"placeholder","12345"),I(a,"name","room"),I(a,"id","roomIDInput"),I(a,"minlength","5"),I(a,"maxlength","5"),I(a,"autocomplete","off"),a.required=!0,I(u,"id","roomidLabel"),I(u,"for","roomIdInput"),I(l,"class","four columns")},m(r,f){g(r,e,f),h(e,n),_(n,t[0]),h(e,o),h(e,i),g(r,s,f),g(r,l,f),h(l,a),_(a,t[1]),h(l,c),h(l,u),m||(d=[x(n,"input",t[10]),x(a,"input",t[11])],m=!0)},p(t,e){1&e&&n.value!==t[0]&&_(n,t[0]),2&e&&a.value!==t[1]&&_(a,t[1])},d(t){t&&v(e),t&&v(s),t&&v(l),m=!1,r(d)}}}function oe(t){let e,n,o,i,s,l,a,c;return{c(){e=$("div"),n=$("input"),o=w(),i=$("label"),i.textContent="Please enter your username.",s=w(),l=$("input"),I(n,"class","u-full-width"),I(n,"type","text"),I(n,"placeholder","Username"),I(n,"name","username"),I(n,"id","usernameInput"),I(n,"minlength","3"),I(n,"maxlength","12"),I(n,"autocomplete","off"),n.required=!0,I(i,"id","usernameLabel"),I(i,"for","usernameInput"),I(l,"type","hidden"),I(l,"name","room"),I(l,"id","roomIDInput"),I(e,"class","nine columns")},m(r,u){g(r,e,u),h(e,n),_(n,t[0]),h(e,o),h(e,i),h(e,s),h(e,l),_(l,t[1]),a||(c=[x(n,"input",t[8]),x(l,"input",t[9])],a=!0)},p(t,e){1&e&&n.value!==t[0]&&_(n,t[0]),2&e&&_(l,t[1])},d(t){t&&v(e),a=!1,r(c)}}}function ie(t){let n;return{c(){n=b("join")},m(t,e){g(t,n,e)},i:e,o:e,d(t){t&&v(n)}}}function se(e){let n,o,i,s;return i=new t.SpinLine({props:{size:"50",color:"#C9D1D9",duration:"5s"}}),{c(){n=$("div"),o=$("div"),ft(i.$$.fragment),I(o,"class","u-pull-left"),S(n,"display","inline-block"),S(n,"vertical-align","middle")},m(t,e){g(t,n,e),h(n,o),pt(i,o,null),s=!0},i(t){s||(rt(i.$$.fragment,t),s=!0)},o(t){lt(i.$$.fragment,t),s=!1},d(t){t&&v(n),ht(i)}}}function re(t){let e,n,o,i,s,r,l,a,c,u,m,d;function f(t,e){return t[3]?oe:ne}let p=f(t),y=p(t);const b=[se,ie],k=[];function E(t,e){return t[4]?0:1}return s=E(t),r=k[s]=b[s](t),a=new Kt({props:{isSpectator:t[2]}}),a.$on("setRole",t[5]),{c(){e=$("div"),y.c(),n=w(),o=$("div"),i=$("button"),r.c(),l=w(),ft(a.$$.fragment),I(i,"class","button-primary button-submit u-full-width"),I(i,"type","submit"),I(i,"id","submitButton"),S(i,"transition","500ms"),I(i,"onclick","this.blur();"),i.disabled=t[4],I(o,"class","three columns"),I(e,"class","row"),S(e,"margin-top","15%")},m(r,c){g(r,e,c),y.m(e,null),h(e,n),h(e,o),h(o,i),k[s].m(i,null),h(o,l),pt(a,o,null),u=!0,m||(d=x(i,"click",t[6]),m=!0)},p(t,[o]){p===(p=f(t))&&y?y.p(t,o):(y.d(1),y=p(t),y&&(y.c(),y.m(e,n)));let l=s;s=E(t),s!==l&&(it(),lt(k[l],1,1,(()=>{k[l]=null})),st(),r=k[s],r||(r=k[s]=b[s](t),r.c()),rt(r,1),r.m(i,null)),(!u||16&o)&&(i.disabled=t[4]);const c={};4&o&&(c.isSpectator=t[2]),a.$set(c)},i(t){u||(rt(r),rt(a.$$.fragment,t),c||W((()=>{c=ct(e,Dt,{}),c.start()})),u=!0)},o(t){lt(r),lt(a.$$.fragment,t),u=!1},d(t){t&&v(e),y.d(),k[s].d(),ht(a),m=!1,d()}}}function le(t,e,n){let{params:o={}}=e,i=localStorage.getItem("username")||"",s="",r=localStorage.getItem("role")||"member",l=!1,a=!1,c=!1;H((()=>{Ft(o.id)&&(n(3,a=!0),n(1,s=o.id),document.getElementById("submitButton").focus()),"spectator"===r&&n(2,l=!0)}));return t.$$set=t=>{"params"in t&&n(7,o=t.params)},[i,s,l,a,c,t=>{t.detail&&(r="spectator"),t.detail||(r="member"),localStorage.setItem("role",r)},()=>{n(4,c=!0),Jt(i)&&Ft(s)?setTimeout((()=>Ut(i,s,r)),1e3):(Yt(),n(4,c=!1))},o,function(){i=this.value,n(0,i)},function(){s=this.value,n(1,s)},function(){i=this.value,n(0,i)},function(){s=this.value,n(1,s)}]}let ae={lowest:{},highest:{}},ce="",ue=[];function me(t){if(ue=[...t.filter(de)],ue.length){let t=function(t){return t.reduce((function(t,e){return parseInt(t.estimation)<parseInt(e.estimation)?t:e}))}(ue),e=function(t){return t.reduce((function(t,e){return parseInt(t.estimation)>parseInt(e.estimation)?t:e}))}(ue);t.estimation!==e.estimation&&Object.assign(ae,{lowest:t,highest:e})}}function de(t){if(!isNaN(parseInt(t.estimation)))return t}function fe(){ce=""}function pe(t){let n,o,i,s,r;return{c(){n=$("div"),o=$("button"),i=b(t[0]),I(o,"id",t[0]),I(o,"class","u-full-width"),I(o,"onclick","this.blur();"),o.disabled=t[1],I(n,"class","two columns")},m(e,l){g(e,n,l),h(n,o),h(o,i),s||(r=x(o,"click",t[2]),s=!0)},p(t,[e]){1&e&&E(i,t[0]),1&e&&I(o,"id",t[0]),2&e&&(o.disabled=t[1])},i:e,o:e,d(t){t&&v(n),s=!1,r()}}}function he(t,e,n){let{value:o}=e,{isDisabled:i=!1}=e;const s=O();return t.$$set=t=>{"value"in t&&n(0,o=t.value),"isDisabled"in t&&n(1,i=t.isDisabled)},[o,i,()=>{!function(t){let e=document.getElementsByClassName("button-primary-positive");0!==e.length&&e[0].classList.toggle("button-primary-positive"),e=document.getElementById(t),e.classList.toggle("button-primary-positive")}(o),s("setEstimation",o)}]}class ge extends vt{constructor(t){super(),gt(this,t,he,pe,a,{value:0,isDisabled:1})}}function ve(t){let n,o;return{c(){n=$("h4"),o=b(t[0]),S(n,"visibility","hidden")},m(t,e){g(t,n,e),h(n,o)},p(t,e){1&e&&E(o,t[0])},i:e,o:e,d(t){t&&v(n)}}}function ye(t){let o,i,s,a;return{c(){o=$("h4"),i=b(t[0]),S(o,"text-align","center")},m(t,e){g(t,o,e),h(o,i),a=!0},p(t,e){(!a||1&e)&&E(i,t[0])},i(t){a||(s&&s.end(1),a=!0)},o(t){s=function(t,o,i){let s,a=o(t,i),c=!0;const m=ot;function d(){const{delay:o=0,duration:i=300,easing:l=n,tick:d=e,css:f}=a||at;f&&(s=A(t,1,0,i,o,l,f));const h=u()+o,g=h+i;W((()=>et(t,!1,"start"))),p((e=>{if(c){if(e>=g)return d(0,1),et(t,!1,"end"),--m.r||r(m.c),!1;if(e>=h){const t=l((e-h)/i);d(1-t,t)}}return c}))}return m.r+=1,l(a)?tt().then((()=>{a=a(),d()})):d(),{end(e){e&&a.tick&&a.tick(1,0),c&&(s&&R(t,s),c=!1)}}}(o,Dt,{delay:2500,duration:500}),a=!1},d(t){t&&v(o),t&&s&&s.end()}}}function $e(t){let e,n,o,i;const s=[ye,ve],r=[];function l(t,e){return t[1]?0:1}return e=l(t),n=r[e]=s[e](t),{c(){n.c(),o=k()},m(t,n){r[e].m(t,n),g(t,o,n),i=!0},p(t,[i]){let a=e;e=l(t),e===a?r[e].p(t,i):(it(),lt(r[a],1,1,(()=>{r[a]=null})),st(),n=r[e],n?n.p(t,i):(n=r[e]=s[e](t),n.c()),rt(n,1),n.m(o.parentNode,o))},i(t){i||(rt(n),i=!0)},o(t){lt(n),i=!1},d(t){r[e].d(t),t&&v(o)}}}function be(t,e,n){let{msg:o}=e,{transition:i}=e;return t.$$set=t=>{"msg"in t&&n(0,o=t.msg),"transition"in t&&n(1,i=t.transition)},[o,i]}class we extends vt{constructor(t){super(),gt(this,t,be,$e,a,{msg:0,transition:1})}}function ke(t){let e;function n(t,e){return t[3]&&""!==t[2]?Ie:xe}let o=n(t),i=o(t);return{c(){e=$("td"),i.c(),I(e,"class","estimation")},m(t,n){g(t,e,n),i.m(e,null)},p(t,s){o===(o=n(t))&&i?i.p(t,s):(i.d(1),i=o(t),i&&(i.c(),i.m(e,null)))},d(t){t&&v(e),i.d()}}}function xe(t){let e,n,o,i;function s(t,e){return t[1]===t[5].lowest.id?_e:t[1]===t[5].highest.id?Ee:void 0}let r=s(t),l=r&&r(t);return{c(){e=$("div"),n=b(t[2]),o=w(),l&&l.c(),i=k(),I(e,"class","u-pull-left")},m(t,s){g(t,e,s),h(e,n),g(t,o,s),l&&l.m(t,s),g(t,i,s)},p(t,e){4&e&&E(n,t[2]),r!==(r=s(t))&&(l&&l.d(1),l=r&&r(t),l&&(l.c(),l.m(i.parentNode,i)))},d(t){t&&v(e),t&&v(o),l&&l.d(t),t&&v(i)}}}function Ie(t){let n,o;return{c(){n=$("img"),n.src!==(o="/img/check.svg")&&I(n,"src","/img/check.svg"),I(n,"alt","ready"),S(n,"vertical-align","middle")},m(t,e){g(t,n,e)},p:e,d(t){t&&v(n)}}}function Ee(t){let e;return{c(){e=$("div"),e.innerHTML='<img src="/img/arrow-up.svg" alt="highest" style="vertical-align: middle; margin-right: 2.5rem;"/>',I(e,"class","u-pull-right")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function _e(t){let e;return{c(){e=$("div"),e.innerHTML='<img src="/img/arrow-down.svg" alt="lowest" style="vertical-align: middle; margin-right: 2.5rem;"/>',I(e,"class","u-pull-right")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function Se(t){let n,o,i,s,r="spectator"!==t[2]&&ke(t);return{c(){n=$("tr"),o=$("td"),i=b(t[0]),s=w(),r&&r.c(),L(o,"isSelf",t[1]===t[4]),S(n,"border-bottom","1px solid #E1E1E1")},m(t,e){g(t,n,e),h(n,o),h(o,i),h(n,s),r&&r.m(n,null)},p(t,[e]){1&e&&E(i,t[0]),18&e&&L(o,"isSelf",t[1]===t[4]),"spectator"!==t[2]?r?r.p(t,e):(r=ke(t),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:e,o:e,d(t){t&&v(n),r&&r.d()}}}function Le(t,e,n){let{name:o}=e,{id:i}=e,{estimation:s}=e,{isReady:r=!1}=e,{socketid:l}=e,{outliers:a}=e;return t.$$set=t=>{"name"in t&&n(0,o=t.name),"id"in t&&n(1,i=t.id),"estimation"in t&&n(2,s=t.estimation),"isReady"in t&&n(3,r=t.isReady),"socketid"in t&&n(4,l=t.socketid),"outliers"in t&&n(5,a=t.outliers)},[o,i,s,r,l,a]}class Te extends vt{constructor(t){super(),gt(this,t,Le,Se,a,{name:0,id:1,estimation:2,isReady:3,socketid:4,outliers:5})}}function je(t){let n,o,i,s,l,a,c,u,m,d,f,p,y,b,k,E;return{c(){n=$("div"),o=$("div"),i=$("div"),i.innerHTML='<div class="twelve columns" style="margin-bottom: 15%; margin-top: 10%; text-align: center">Do you really want to leave the lobby?</div>',s=w(),l=$("div"),a=$("div"),c=$("button"),c.textContent="stay",u=w(),m=$("div"),d=$("button"),d.textContent="leave",p=w(),y=$("div"),I(i,"class","row"),I(c,"class","button-primary-join u-full-width"),I(c,"onclick","this.blur();"),I(a,"class","six columns"),I(d,"class","button-primary-negative u-full-width"),I(d,"onclick","this.blur();"),I(m,"class","six columns"),I(l,"class","row"),S(l,"margin-bottom","10%"),I(o,"class","container"),I(n,"class","modal"),I(n,"id","modal"),I(y,"class","underlay")},m(e,r){var f;g(e,n,r),h(n,o),h(o,i),h(o,s),h(o,l),h(l,a),h(a,c),h(l,u),h(l,m),h(m,d),g(e,p,r),g(e,y,r),b=!0,k||(E=[x(window,"click",t[2]),x(c,"click",t[0]),x(d,"click",t[1]),x(n,"click",(f=t[3],function(t){return t.stopPropagation(),f.call(this,t)}))],k=!0)},p:e,i(t){b||(W((()=>{f||(f=ut(n,Dt,{},!0)),f.run(1)})),b=!0)},o(t){f||(f=ut(n,Dt,{},!1)),f.run(0),b=!1},d(t){t&&v(n),t&&f&&f.end(),t&&v(p),t&&v(y),k=!1,r(E)}}}function Ce(t){const e=O();let n=!1;const o=()=>{e("leave",!1)};return[o,()=>{e("leave",!0)},()=>{n&&o(),n=!0},function(e){N(t,e)}]}class De extends vt{constructor(t){super(),gt(this,t,Ce,je,a,{})}}function Ae(t){let n,o,i,s,r,l,a,c,u,m,d;return{c(){n=$("div"),o=$("h4"),i=b("room-id: \r\n        "),s=$("span"),r=b(t[0]),l=w(),a=$("div"),c=$("img"),I(s,"id","roomID"),I(s,"class","readycolor"),I(o,"class","u-pull-left"),S(o,"vertical-align","middle"),c.src!==(u="/img/copy.svg")&&I(c,"src","/img/copy.svg"),S(c,"cursor","pointer"),S(c,"vertical-align","middle"),I(c,"alt","share"),I(a,"class","u-pull-left icon-basic copyicon")},m(e,u){g(e,n,u),h(n,o),h(o,i),h(o,s),h(s,r),h(n,l),h(n,a),h(a,c),m||(d=x(c,"click",t[1]),m=!0)},p(t,[e]){1&e&&E(r,t[0])},i:e,o:e,d(t){t&&v(n),m=!1,d()}}}function Re(t,e,n){let{id:o}=e;const i=O();return t.$$set=t=>{"id"in t&&n(0,o=t.id)},[o,()=>{i("copy")}]}class Me extends vt{constructor(t){super(),gt(this,t,Re,Ae,a,{id:0})}}function Be(t,e,n){const o=t.slice();return o[25]=e[n],o}function He(t,e,n){const o=t.slice();return o[25]=e[n],o}function Oe(t,e,n){const o=t.slice();return o[30]=e[n],o}function Ne(t,e,n){const o=t.slice();return o[33]=e[n],o}function Pe(t){let n,o;return n=new we({props:{msg:" ",transition:!1}}),{c(){ft(n.$$.fragment)},m(t,e){pt(n,t,e),o=!0},p:e,i(t){o||(rt(n.$$.fragment,t),o=!0)},o(t){lt(n.$$.fragment,t),o=!1},d(t){ht(n,t)}}}function qe(t){let e,n;return e=new we({props:{msg:t[1],transition:!0}}),{c(){ft(e.$$.fragment)},m(t,o){pt(e,t,o),n=!0},p(t,n){const o={};2&n[0]&&(o.msg=t[1]),e.$set(o)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ht(e,t)}}}function ze(t){let e,n,o,i,s,r,l,a,c,u,m,d=t[3],f=[];for(let e=0;e<d.length;e+=1)f[e]=Je(Ne(t,d,e));const p=t=>lt(f[t],1,1,(()=>{f[t]=null}));return{c(){e=$("table"),n=$("thead"),n.innerHTML="<tr><th>Members</th> \n                            <th>Estimation</th></tr>",o=w(),i=$("tbody");for(let t=0;t<f.length;t+=1)f[t].c();s=w(),r=$("tr"),l=$("td"),l.textContent="Average",a=w(),c=$("td"),u=b(t[8]),I(c,"id","AuMgIVUHfSHpDpgMAAAB"),S(r,"color","#FCA311"),S(r,"border-bottom","1px solid #E1E1E1"),I(i,"id","playerlist"),I(e,"class","u-full-width")},m(t,d){g(t,e,d),h(e,n),h(e,o),h(e,i);for(let t=0;t<f.length;t+=1)f[t].m(i,null);h(i,s),h(i,r),h(r,l),h(r,a),h(r,c),h(c,u),m=!0},p(t,e){if(72&e[0]){let n;for(d=t[3],n=0;n<d.length;n+=1){const o=Ne(t,d,n);f[n]?(f[n].p(o,e),rt(f[n],1)):(f[n]=Je(o),f[n].c(),rt(f[n],1),f[n].m(i,s))}for(it(),n=d.length;n<f.length;n+=1)p(n);st()}(!m||256&e[0])&&E(u,t[8])},i(t){if(!m){for(let t=0;t<d.length;t+=1)rt(f[t]);m=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)lt(f[t]);m=!1},d(t){t&&v(e),y(f,t)}}}function Ue(t){let n;return{c(){n=$("h4")},m(t,e){g(t,n,e)},p:e,i:e,o:e,d(t){t&&v(n)}}}function Je(t){let e,n;return e=new Te({props:{name:t[33].username,id:t[33].id,estimation:t[33].estimation,isReady:t[6],socketid:socket.id,outliers:ae}}),{c(){ft(e.$$.fragment)},m(t,o){pt(e,t,o),n=!0},p(t,n){const o={};8&n[0]&&(o.name=t[33].username),8&n[0]&&(o.id=t[33].id),8&n[0]&&(o.estimation=t[33].estimation),64&n[0]&&(o.isReady=t[6]),e.$set(o)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ht(e,t)}}}function Fe(t){let e,n,o,i,s,r=t[4],l=[];for(let e=0;e<r.length;e+=1)l[e]=Xe(Oe(t,r,e));const a=t=>lt(l[t],1,1,(()=>{l[t]=null}));return{c(){e=$("table"),n=$("thead"),n.innerHTML="<tr><th>Spectators</th></tr>",o=w(),i=$("tbody");for(let t=0;t<l.length;t+=1)l[t].c();I(i,"id","spectatorlist"),I(e,"class","u-full-width")},m(t,r){g(t,e,r),h(e,n),h(e,o),h(e,i);for(let t=0;t<l.length;t+=1)l[t].m(i,null);s=!0},p(t,e){if(16&e[0]){let n;for(r=t[4],n=0;n<r.length;n+=1){const o=Oe(t,r,n);l[n]?(l[n].p(o,e),rt(l[n],1)):(l[n]=Xe(o),l[n].c(),rt(l[n],1),l[n].m(i,null))}for(it(),n=r.length;n<l.length;n+=1)a(n);st()}},i(t){if(!s){for(let t=0;t<r.length;t+=1)rt(l[t]);s=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)lt(l[t]);s=!1},d(t){t&&v(e),y(l,t)}}}function Ye(t){let n;return{c(){n=$("h4")},m(t,e){g(t,n,e)},p:e,i:e,o:e,d(t){t&&v(n)}}}function Xe(t){let e,n;return e=new Te({props:{name:t[30].username,id:t[30].id,estimation:"spectator",socketid:socket.id}}),{c(){ft(e.$$.fragment)},m(t,o){pt(e,t,o),n=!0},p(t,n){const o={};16&n[0]&&(o.name=t[30].username),16&n[0]&&(o.id=t[30].id),e.$set(o)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ht(e,t)}}}function We(t){let e,n;return e=new ge({props:{value:t[25],isDisabled:t[7]}}),e.$on("setEstimation",t[14]),{c(){ft(e.$$.fragment)},m(t,o){pt(e,t,o),n=!0},p(t,n){const o={};128&n[0]&&(o.isDisabled=t[7]),e.$set(o)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ht(e,t)}}}function Ve(t){let e,n;return e=new ge({props:{value:t[25],isDisabled:t[7]}}),e.$on("setEstimation",t[14]),{c(){ft(e.$$.fragment)},m(t,o){pt(e,t,o),n=!0},p(t,n){const o={};128&n[0]&&(o.isDisabled=t[7]),e.$set(o)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ht(e,t)}}}function Ge(t){let n,o;return n=new De({}),n.$on("leave",t[12]),{c(){ft(n.$$.fragment)},m(t,e){pt(n,t,e),o=!0},p:e,i(t){o||(rt(n.$$.fragment,t),o=!0)},o(t){lt(n.$$.fragment,t),o=!1},d(t){ht(n,t)}}}function Ke(t){let e,n,o,i,s,l,a,c,u,m,d,f,p,b,E,_,L,T,j,C,D,A,R,M,B,H,O,N,P,q,z,U;i=new Me({props:{id:t[0]||"00000"}}),i.$on("copy",t[15]);const J=[qe,Pe],F=[];function Y(t,e){return t[2]?0:1}a=Y(t),c=F[a]=J[a](t);const X=[Ue,ze],V=[];function G(t,e){return 0===t[3].length?0:1}T=G(t),j=V[T]=X[T](t);const K=[Ye,Fe],Q=[];function Z(t,e){return 0===t[4].length?0:1}M=Z(t),B=Q[M]=K[M](t);let tt="member"===zt.role&&function(t){let e,n,o,i,s=t[9],r=[];for(let e=0;e<s.length;e+=1)r[e]=We(He(t,s,e));const l=t=>lt(r[t],1,1,(()=>{r[t]=null}));let a=t[10],c=[];for(let e=0;e<a.length;e+=1)c[e]=Ve(Be(t,a,e));const u=t=>lt(c[t],1,1,(()=>{c[t]=null}));return{c(){e=$("div");for(let t=0;t<r.length;t+=1)r[t].c();n=w(),o=$("div");for(let t=0;t<c.length;t+=1)c[t].c();I(e,"class","row"),S(e,"margin-top","5%"),I(o,"class","row lowerrow")},m(t,s){g(t,e,s);for(let t=0;t<r.length;t+=1)r[t].m(e,null);g(t,n,s),g(t,o,s);for(let t=0;t<c.length;t+=1)c[t].m(o,null);i=!0},p(t,n){if(17024&n[0]){let o;for(s=t[9],o=0;o<s.length;o+=1){const i=He(t,s,o);r[o]?(r[o].p(i,n),rt(r[o],1)):(r[o]=We(i),r[o].c(),rt(r[o],1),r[o].m(e,null))}for(it(),o=s.length;o<r.length;o+=1)l(o);st()}if(17536&n[0]){let e;for(a=t[10],e=0;e<a.length;e+=1){const i=Be(t,a,e);c[e]?(c[e].p(i,n),rt(c[e],1)):(c[e]=Ve(i),c[e].c(),rt(c[e],1),c[e].m(o,null))}for(it(),e=a.length;e<c.length;e+=1)u(e);st()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)rt(r[t]);for(let t=0;t<a.length;t+=1)rt(c[t]);i=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)lt(r[t]);c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)lt(c[t]);i=!1},d(t){t&&v(e),y(r,t),t&&v(n),t&&v(o),y(c,t)}}}(t),et=t[5]&&Ge(t);return{c(){e=$("div"),n=$("div"),o=$("div"),ft(i.$$.fragment),s=w(),l=$("div"),c.c(),u=w(),m=$("div"),d=$("button"),d.textContent="reset",f=w(),p=$("div"),b=$("button"),b.textContent="leave",E=w(),_=$("div"),L=$("div"),j.c(),C=w(),D=$("div"),D.innerHTML="<h4></h4>",A=w(),R=$("div"),B.c(),H=w(),tt&&tt.c(),N=w(),et&&et.c(),P=k(),I(o,"class","four columns"),I(l,"class","four columns"),I(l,"id","bannerfield"),I(d,"class","button-primary-join u-full-width"),S(d,"display","grid"),S(d,"place-items","center"),I(d,"onclick","this.blur();"),I(m,"class","two columns"),I(b,"class","button-primary-negative u-full-width"),I(p,"class","two columns"),I(n,"class","row"),S(n,"margin-top","15%"),I(L,"class","four columns"),I(D,"class","six columns"),I(R,"class","two columns"),I(_,"class","row"),S(_,"margin-top","5%"),I(e,"class","content")},m(r,c){g(r,e,c),h(e,n),h(n,o),pt(i,o,null),h(n,s),h(n,l),F[a].m(l,null),h(n,u),h(n,m),h(m,d),h(n,f),h(n,p),h(p,b),h(e,E),h(e,_),h(_,L),V[T].m(L,null),h(_,C),h(_,D),h(_,A),h(_,R),Q[M].m(R,null),h(e,H),tt&&tt.m(e,null),g(r,N,c),et&&et.m(r,c),g(r,P,c),q=!0,z||(U=[x(d,"click",t[13]),x(b,"click",t[11])],z=!0)},p(t,e){const n={};1&e[0]&&(n.id=t[0]||"00000"),i.$set(n);let o=a;a=Y(t),a===o?F[a].p(t,e):(it(),lt(F[o],1,1,(()=>{F[o]=null})),st(),c=F[a],c?c.p(t,e):(c=F[a]=J[a](t),c.c()),rt(c,1),c.m(l,null));let s=T;T=G(t),T===s?V[T].p(t,e):(it(),lt(V[s],1,1,(()=>{V[s]=null})),st(),j=V[T],j?j.p(t,e):(j=V[T]=X[T](t),j.c()),rt(j,1),j.m(L,null));let r=M;M=Z(t),M===r?Q[M].p(t,e):(it(),lt(Q[r],1,1,(()=>{Q[r]=null})),st(),B=Q[M],B?B.p(t,e):(B=Q[M]=K[M](t),B.c()),rt(B,1),B.m(R,null)),"member"===zt.role&&tt.p(t,e),t[5]?et?(et.p(t,e),32&e[0]&&rt(et,1)):(et=Ge(t),et.c(),rt(et,1),et.m(P.parentNode,P)):et&&(it(),lt(et,1,1,(()=>{et=null})),st())},i(t){q||(rt(i.$$.fragment,t),rt(c),rt(j),rt(B),rt(tt),O||W((()=>{O=ct(e,Dt,{}),O.start()})),rt(et),q=!0)},o(t){lt(i.$$.fragment,t),lt(c),lt(j),lt(B),lt(tt),lt(et),q=!1},d(t){t&&v(e),ht(i),F[a].d(),V[T].d(),Q[M].d(),tt&&tt.d(),t&&v(N),et&&et.d(t),t&&v(P),z=!1,r(U)}}}function Qe(t,e,n){let o,i,{params:s={}}=e,r="",l=!1,a=[],c=[],u=0,m=!1,d=!0,f=!1,p="",h=0;var g;H((()=>{if(n(0,o=s.id),!socket.connected){let t=localStorage.getItem("username"),e=localStorage.getItem("role");t&&Ut(t,o,e)}socket.emit("ready"),v()})),g=()=>{socket.disconnect()},B().$$.on_destroy.push(g);const v=()=>{clearTimeout(i),i=setTimeout((()=>Lt("/join/"+o)),9e5)},y=()=>{let t=document.getElementsByClassName("content");for(let e=0;e<t.length;e++)t[e].classList.toggle("is-blurred");n(5,m=!m)};function $(t){n(1,r=t),n(2,l=!0),setTimeout((function(){n(2,l=!1)}),1)}socket.on("resetReveal",(()=>{n(6,d=!0),n(7,f=!1),fe(),n(8,p=ce)})),socket.on("bannermessage",(t=>{$(t)})),socket.on("roomUsers",(t=>{h++,X().then((()=>{setTimeout((function(){n(3,a=t.filter((t=>"member"===t.role))),n(4,c=t.filter((t=>"spectator"===t.role)))}),h*h*10),h--}))}));function b(t){let e=a.findIndex((e=>e.id==t.id));""===a[e].estimation&&(a.length-1!==u&&(t.isReady=!0),u++),n(3,a[e]=t,a)}socket.on("newEstimation",(t=>{b(t)})),socket.on("reveal",(()=>{!function(t){let e=0,n=0;ce="";for(let o=0;o<t.length;o++){let i=t[o].estimation;""!==i&&"?"!==i&&"coffee"!==i&&(e+=parseInt(t[o].estimation),n++)}0!==n&&(e=Math.round(e/n*100)/100,ce=e.toString())}(a),n(8,p=ce),me(a),n(6,d=!1),n(7,f=!0),v()})),socket.on("emptyList",(()=>{fe(),n(8,p=ce),ae.lowest={},ae.highest={},function(){for(let t=0;t<a.length;t++)n(3,a[t].estimation="",a);n(6,d=!0);let t=document.getElementsByClassName("button-primary-positive");void 0!==t[0]&&t[0].classList.remove("button-primary-positive");u=0,$("Reset successfully.")}(),n(7,f=!1)}));return t.$$set=t=>{"params"in t&&n(16,s=t.params)},[o,r,l,a,c,m,d,f,p,["0","1","2","3","5","8"],["13","20","40","100","?","coffee"],()=>{n(2,l=!1),y()},t=>{y(),t.detail&&setTimeout((function(){Lt("/")}),10)},()=>{socket.emit("reset"),v()},t=>{let e=a.find((t=>t.id===socket.id)),n=Object.assign({},e);n.estimation!==t.detail&&(n.estimation=t.detail,b(n),socket.emit("estimated",t.detail)),v()},()=>{var t;t="https://planning-poker-qs.herokuapp.com/#/room/"+o,navigator.clipboard.writeText(t).then((function(){}),(function(t){console.error("Async: Could not copy text: ",t)})),$("Invitation link copied.")},s]}function Ze(t){let n,o,i,s,r,l,a,c,u,m,d,f,p,h,y,b,k;return{c(){n=$("div"),n.innerHTML='<div class="six columns"><img src="/img/startsession.gif" alt="how to start a session" style="width:100%" class="svelte-6ivhcn"/></div> \n    <div class="six columns card-text svelte-6ivhcn"><h5 style="margin-bottom: 0;"><strong>Start a session</strong></h5> \n        <hr style="margin-top: 0; margin-bottom: 3%;"/> \n        <p class="svelte-6ivhcn">To start a session, klick &#39;start&#39; on the landingpage, enter your username and click &#39;start&#39; again.\n        </p><p class="svelte-6ivhcn">If you use the tool regularly, it is helpful to save the created session as a bookmark. This way you can use the same session over and over again without having to create a new one each time.</p></div>',i=w(),s=$("div"),s.innerHTML='<div class="six columns"><img src="/img/joinsession.gif" alt="how to join a session" style="width:100%" class="svelte-6ivhcn"/></div> \n    <div class="six columns card-text svelte-6ivhcn"><h5 style="margin-bottom: 0;"><strong>Join a session</strong></h5> \n        <hr style="margin-top: 0; margin-bottom: 3%;"/> \n        <p class="svelte-6ivhcn">To join a session manually, click &#39;join&#39; on the landingpage, enter your username and a room ID and click on &#39;join&#39; again. If the entered ID does not exist, a new session will be created with this ID.</p> \n        <p class="svelte-6ivhcn">An existing session can not only be joined manually, but also via an invitation link. With the link you only have to enter your username to join directly.</p> \n        <p class="svelte-6ivhcn">If the tool has already been used, the last used username will be pre-filled. However, you can change it every time you start or join a session.</p></div>',l=w(),a=$("div"),a.innerHTML='<div class="six columns"><img src="/img/copyinvitationlink.gif" alt="how to copy an invitation link" style="width:100%" class="svelte-6ivhcn"/></div> \n    <div class="six columns card-text svelte-6ivhcn"><h5 style="margin-bottom: 0;"><strong>Copy invitation link</strong></h5> \n        <hr style="margin-top: 0; margin-bottom: 3%;"/> \n        <p class="svelte-6ivhcn">To copy the invitation link for a session to the clipboard, click the copy icon next to the &#39;room-id&#39;. The link can then be sent directly to team members.</p></div>',u=w(),m=$("div"),m.innerHTML='<div class="six columns"><img src="/img/estimationsandreset.gif" alt="how to estimate and reset" style="width:100%" class="svelte-6ivhcn"/></div> \n    <div class="six columns card-text svelte-6ivhcn"><h5 style="margin-bottom: 0;"><strong>Set and reset estimations</strong></h5> \n        <hr style="margin-top: 0; margin-bottom: 3%;"/> \n        <p class="svelte-6ivhcn">To submit an estimation, click one of the estimaiton-buttons. Until all participants have submitted their estimate, a tick appears instead of the estimation to show who is ready.</p> \n        <p class="svelte-6ivhcn">As soon as each participant has made an estimation, all values ​​are revealed at the same time. The average of all numerical values ​​is displayed in orange at the bottom of the list. If there is a highest/lowest estimaiton, it will be highlighted with an arrow. If a participant joins after the reveal, all values ​​are hidden so that the new participant can submit his estimate unaffected.</p> \n        <p class="svelte-6ivhcn">To reset all estimations, press the &#39;reset&#39; button.</p></div>',f=w(),p=$("div"),p.innerHTML='<div class="six columns"><img src="/img/joinasspectator.gif" alt="how to join as spectator" style="width:100%" class="svelte-6ivhcn"/></div>         \n    <div class="six columns card-text svelte-6ivhcn"><h5 style="margin-bottom: 0;"><strong>Join as spectator</strong></h5> \n        <hr style="margin-top: 0; margin-bottom: 3%;"/> \n        <p class="svelte-6ivhcn">If you want to participate in the session without estimating, you have the opportunity to join as a spectator. To do this, simply activate the &#39;Join as spectator&#39; option when joining. As a viewer you are listed separately and can only reset the estimations.</p></div>',y=w(),b=$("div"),b.innerHTML='<div class="six columns" style="box-sizing: border-box;"><img src="/img/changetheme.gif" alt="how to change the theme" style="width:100%" class="svelte-6ivhcn"/></div>         \n    <div class="six columns card-text svelte-6ivhcn"><h5 style="margin-bottom: 0;"><strong>Change theme</strong></h5> \n        <hr style="margin-top: 0; margin-bottom: 3%;"/> \n        <p class="svelte-6ivhcn">The theme can be changed via the theme icon (moon / sun) in the top right corner. The set preferences are saved.</p></div>',I(n,"class","row card svelte-6ivhcn"),S(n,"margin-top","6%"),I(s,"class","row card svelte-6ivhcn"),I(a,"class","row card svelte-6ivhcn"),I(m,"class","row card svelte-6ivhcn"),I(p,"class","row card svelte-6ivhcn"),I(b,"class","row card svelte-6ivhcn")},m(t,e){g(t,n,e),g(t,i,e),g(t,s,e),g(t,l,e),g(t,a,e),g(t,u,e),g(t,m,e),g(t,f,e),g(t,p,e),g(t,y,e),g(t,b,e)},p:e,i(t){o||W((()=>{o=ct(n,Dt,{}),o.start()})),r||W((()=>{r=ct(s,Dt,{}),r.start()})),c||W((()=>{c=ct(a,Dt,{}),c.start()})),d||W((()=>{d=ct(m,Dt,{}),d.start()})),h||W((()=>{h=ct(p,Dt,{}),h.start()})),k||W((()=>{k=ct(b,Dt,{}),k.start()}))},o:e,d(t){t&&v(n),t&&v(i),t&&v(s),t&&v(l),t&&v(a),t&&v(u),t&&v(m),t&&v(f),t&&v(p),t&&v(y),t&&v(b)}}}function tn(t){let n,o;return{c(){n=$("div"),n.innerHTML='<div class="twelve columns" style="margin-bottom: 10%;"><h3>404 not found.</h3> \n        <a href="https://planning-poker-live.herokuapp.com" style="font-size: 15px">Back to the main menu</a> \n        <span></span></div>',I(n,"class","row"),S(n,"margin-top","15%"),S(n,"margin-bottom","5%")},m(t,e){g(t,n,e)},p:e,i(t){o||W((()=>{o=ct(n,Dt,{}),o.start()}))},o:e,d(t){t&&v(n)}}}var en={"/":class extends vt{constructor(t){super(),gt(this,t,qt,Pt,a,{onload:2})}get onload(){return this.$$.ctx[2]}},"/start":class extends vt{constructor(t){super(),gt(this,t,ee,te,a,{})}},"/join/:id?":class extends vt{constructor(t){super(),gt(this,t,le,re,a,{params:7})}},"/room/:id":class extends vt{constructor(t){super(),gt(this,t,Qe,Ke,a,{params:16},[-1,-1])}},"/tutorial/":class extends vt{constructor(t){super(),gt(this,t,null,Ze,a,{})}},"*":class extends vt{constructor(t){super(),gt(this,t,null,tn,a,{})}}};function nn(t){let n,o,i,s,r,l;return o=new Nt({}),r=new jt({props:{routes:en}}),{c(){n=$("main"),ft(o.$$.fragment),i=w(),s=$("div"),ft(r.$$.fragment),I(s,"class","container")},m(t,e){g(t,n,e),pt(o,n,null),h(n,i),h(n,s),pt(r,s,null),l=!0},p:e,i(t){l||(rt(o.$$.fragment,t),rt(r.$$.fragment,t),l=!0)},o(t){lt(o.$$.fragment,t),lt(r.$$.fragment,t),l=!1},d(t){t&&v(n),ht(o),ht(r)}}}function on(t){return socket.on("newRoom",(t=>{St("/room/"+t)})),[]}return new class extends vt{constructor(t){super(),gt(this,t,on,nn,a,{})}}({target:document.body})}(svelteLoadingSpinners);
//# sourceMappingURL=bundle.js.map
