var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function i(){return Object.create(null)}function r(t){t.forEach(o)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const c="undefined"!=typeof window;let a=c?()=>window.performance.now():()=>Date.now(),u=c?t=>requestAnimationFrame(t):t;const m=new Set;function d(t){m.forEach((e=>{e.c(t)||(m.delete(e),e.f())})),0!==m.size&&u(d)}function f(t){let e;return 0===m.size&&u(d),{promise:new Promise((n=>{m.add(e={c:t,f:n})})),abort(){m.delete(e)}}}function g(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function y(){return $(" ")}function w(){return $("")}function k(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function I(t,e){t.value=null==e?"":e}function E(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function _(t,e,n){t.classList[n?"add":"remove"](e)}function z(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const L=new Set;let C,j=0;function T(t,e,n,o,i,r,s,l=0){const c=16.666/o;let a="{\n";for(let t=0;t<=1;t+=c){const o=e+(n-e)*r(t);a+=100*t+`%{${s(o,1-o)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,m=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`,d=t.ownerDocument;L.add(d);const f=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(v("style")).sheet),g=d.__svelte_rules||(d.__svelte_rules={});g[m]||(g[m]=!0,f.insertRule(`@keyframes ${m} ${u}`,f.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${m} ${o}ms linear ${i}ms 1 both`,j+=1,m}function D(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-o.length;i&&(t.style.animation=o.join(", "),j-=i,j||u((()=>{j||(L.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),L.clear())})))}function M(t){C=t}function R(){if(!C)throw new Error("Function called outside component initialization");return C}function A(t){R().$$.on_mount.push(t)}function B(){const t=R();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const i=z(e,n);o.slice().forEach((e=>{e.call(t,i)}))}}}function q(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const H=[],O=[],N=[],P=[],U=Promise.resolve();let J=!1;function W(){J||(J=!0,U.then(V))}function F(){return W(),U}function Y(t){N.push(t)}let Z=!1;const X=new Set;function V(){if(!Z){Z=!0;do{for(let t=0;t<H.length;t+=1){const e=H[t];M(e),K(e.$$)}for(M(null),H.length=0;O.length;)O.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];X.has(e)||(X.add(e),e())}N.length=0}while(H.length);for(;P.length;)P.pop()();J=!1,Z=!1,X.clear()}}function K(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}let G;function Q(){return G||(G=Promise.resolve(),G.then((()=>{G=null}))),G}function tt(t,e,n){t.dispatchEvent(z(`${e?"intro":"outro"}${n}`))}const et=new Set;let nt;function ot(){nt={r:0,c:[],p:nt}}function it(){nt.r||r(nt.c),nt=nt.p}function rt(t,e){t&&t.i&&(et.delete(t),t.i(e))}function st(t,e,n,o){if(t&&t.o){if(et.has(t))return;et.add(t),nt.c.push((()=>{et.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const lt={duration:0};function ct(n,o,i){let r,l,c=o(n,i),u=!1,m=0;function d(){r&&D(n,r)}function g(){const{delay:o=0,duration:i=300,easing:s=e,tick:g=t,css:p}=c||lt;p&&(r=T(n,0,1,i,o,s,p,m++)),g(0,1);const h=a()+o,b=h+i;l&&l.abort(),u=!0,Y((()=>tt(n,!0,"start"))),l=f((t=>{if(u){if(t>=b)return g(1,0),tt(n,!0,"end"),d(),u=!1;if(t>=h){const e=s((t-h)/i);g(e,1-e)}}return u}))}let p=!1;return{start(){p||(D(n),s(c)?(c=c(),Q().then(g)):g())},invalidate(){p=!1},end(){u&&(d(),u=!1)}}}function at(n,o,i,l){let c=o(n,i),u=l?0:1,m=null,d=null,g=null;function p(){g&&D(n,g)}function h(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(o){const{delay:i=0,duration:s=300,easing:l=e,tick:b=t,css:v}=c||lt,$={start:a()+i,b:o};o||($.group=nt,nt.r+=1),m||d?d=$:(v&&(p(),g=T(n,u,o,s,i,l,v)),o&&b(0,1),m=h($,s),Y((()=>tt(n,o,"start"))),f((t=>{if(d&&t>d.start&&(m=h(d,s),d=null,tt(n,m.b,"start"),v&&(p(),g=T(n,u,m.b,m.duration,0,l,c.css))),m)if(t>=m.end)b(u=m.b,1-u),tt(n,m.b,"end"),d||(m.b?p():--m.group.r||r(m.group.c)),m=null;else if(t>=m.start){const e=t-m.start;u=m.a+m.d*l(e/m.duration),b(u,1-u)}return!(!m&&!d)})))}return{run(t){s(c)?Q().then((()=>{c=c(),b(t)})):b(t)},end(){p(),m=d=null}}}function ut(t,e){const n={},o={},i={$$scope:1};let r=t.length;for(;r--;){const s=t[r],l=e[r];if(l){for(const t in s)t in l||(o[t]=1);for(const t in l)i[t]||(n[t]=l[t],i[t]=1);t[r]=l}else for(const t in s)i[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function mt(t){return"object"==typeof t&&null!==t?t:{}}function dt(t){t&&t.c()}function ft(t,e,n,i){const{fragment:l,on_mount:c,on_destroy:a,after_update:u}=t.$$;l&&l.m(e,n),i||Y((()=>{const e=c.map(o).filter(s);a?a.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(Y)}function gt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pt(e,n,o,s,l,c,a=[-1]){const u=C;M(e);const m=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:l,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:a,skip_bound:!1};let d=!1;if(m.ctx=o?o(e,n.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return m.ctx&&l(m.ctx[t],m.ctx[t]=i)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](i),d&&function(t,e){-1===t.$$.dirty[0]&&(H.push(t),W(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],m.update(),d=!0,r(m.before_update),m.fragment=!!s&&s(m.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);m.fragment&&m.fragment.l(t),t.forEach(h)}else m.fragment&&m.fragment.c();n.intro&&rt(e.$$.fragment),ft(e,n.target,n.anchor,n.customElement),V()}M(u)}class ht{$destroy(){gt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const bt=[];function vt(t,e){return{subscribe:$t(t,e).subscribe}}function $t(e,n=t){let o;const i=[];function r(t){if(l(e,t)&&(e=t,o)){const t=!bt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),bt.push(n,e)}if(t){for(let t=0;t<bt.length;t+=2)bt[t][0](bt[t+1]);bt.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(s,l=t){const c=[s,l];return i.push(c),1===i.length&&(o=n(r)||t),s(e),()=>{const t=i.indexOf(c);-1!==t&&i.splice(t,1),0===i.length&&(o(),o=null)}}}}function yt(e,n,o){const i=!Array.isArray(e),l=i?[e]:e,c=n.length<2;return vt(o,(e=>{let o=!1;const a=[];let u=0,m=t;const d=()=>{if(u)return;m();const o=n(i?a[0]:a,e);c?e(o):m=s(o)?o:t},f=l.map(((e,n)=>function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(e,(t=>{a[n]=t,u&=~(1<<n),o&&d()}),(()=>{u|=1<<n}))));return o=!0,d(),function(){r(f),m()}}))}function wt(t){let e,o,i;const r=[t[2]];var s=t[0];function l(t){let e={};for(let t=0;t<r.length;t+=1)e=n(e,r[t]);return{props:e}}return s&&(e=new s(l()),e.$on("routeEvent",t[7])),{c(){e&&dt(e.$$.fragment),o=w()},m(t,n){e&&ft(e,t,n),p(t,o,n),i=!0},p(t,n){const i=4&n?ut(r,[mt(t[2])]):{};if(s!==(s=t[0])){if(e){ot();const t=e;st(t.$$.fragment,1,0,(()=>{gt(t,1)})),it()}s?(e=new s(l()),e.$on("routeEvent",t[7]),dt(e.$$.fragment),rt(e.$$.fragment,1),ft(e,o.parentNode,o)):e=null}else s&&e.$set(i)},i(t){i||(e&&rt(e.$$.fragment,t),i=!0)},o(t){e&&st(e.$$.fragment,t),i=!1},d(t){t&&h(o),e&&gt(e,t)}}}function kt(t){let e,o,i;const r=[{params:t[1]},t[2]];var s=t[0];function l(t){let e={};for(let t=0;t<r.length;t+=1)e=n(e,r[t]);return{props:e}}return s&&(e=new s(l()),e.$on("routeEvent",t[6])),{c(){e&&dt(e.$$.fragment),o=w()},m(t,n){e&&ft(e,t,n),p(t,o,n),i=!0},p(t,n){const i=6&n?ut(r,[2&n&&{params:t[1]},4&n&&mt(t[2])]):{};if(s!==(s=t[0])){if(e){ot();const t=e;st(t.$$.fragment,1,0,(()=>{gt(t,1)})),it()}s?(e=new s(l()),e.$on("routeEvent",t[6]),dt(e.$$.fragment),rt(e.$$.fragment,1),ft(e,o.parentNode,o)):e=null}else s&&e.$set(i)},i(t){i||(e&&rt(e.$$.fragment,t),i=!0)},o(t){e&&st(e.$$.fragment,t),i=!1},d(t){t&&h(o),e&&gt(e,t)}}}function xt(t){let e,n,o,i;const r=[kt,wt],s=[];function l(t,e){return t[1]?0:1}return e=l(t),n=s[e]=r[e](t),{c(){n.c(),o=w()},m(t,n){s[e].m(t,n),p(t,o,n),i=!0},p(t,[i]){let c=e;e=l(t),e===c?s[e].p(t,i):(ot(),st(s[c],1,1,(()=>{s[c]=null})),it(),n=s[e],n?n.p(t,i):(n=s[e]=r[e](t),n.c()),rt(n,1),n.m(o.parentNode,o))},i(t){i||(rt(n),i=!0)},o(t){st(n),i=!1},d(t){s[e].d(t),t&&h(o)}}}function St(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const It=vt(null,(function(t){t(St());const e=()=>{t(St())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));async function Et(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await F(),history.replaceState({scrollX:window.scrollX,scrollY:window.scrollY},void 0,void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}async function _t(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await F();const e=("#"==t.charAt(0)?"":"#")+t;try{window.history.replaceState(void 0,void 0,e)}catch(t){console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function zt(t,e,n){let{routes:o={}}=e,{prefix:i=""}=e,{restoreScrollState:r=!1}=e;class s{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:o}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,o,i,r,s=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)"*"===(n=i[0])?(s.push("wild"),l+="/(.*)"):":"===n?(o=i.indexOf("?",1),r=i.indexOf(".",1),s.push(i.substring(1,~o?o:~r?r:i.length)),l+=~o&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(l+=(~o?"?":"")+"\\"+i.substring(r))):l+="/"+i;return{keys:s,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=o}match(t){if(i)if("string"==typeof i){if(!t.startsWith(i))return null;t=t.substr(i.length)||"/"}else if(i instanceof RegExp){const e=t.match(i);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let o=0;for(;o<this._keys.length;){try{n[this._keys[o]]=decodeURIComponent(e[o+1]||"")||null}catch(t){n[this._keys[o]]=null}o++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const l=[];o instanceof Map?o.forEach(((t,e)=>{l.push(new s(e,t))})):Object.keys(o).forEach((t=>{l.push(new s(t,o[t]))}));let c=null,a=null,u={};const m=B();async function d(t,e){await F(),m(t,e)}let f=null;var g;r&&(window.addEventListener("popstate",(t=>{f=t.state&&t.state.scrollY?t.state:null})),g=()=>{f?window.scrollTo(f.scrollX,f.scrollY):window.scrollTo(0,0)},R().$$.after_update.push(g));let p=null,h=null;return It.subscribe((async t=>{p=t;let e=0;for(;e<l.length;){const o=l[e].match(t.location);if(!o){e++;continue}const i={route:l[e].path,location:t.location,querystring:t.querystring,userData:l[e].userData};if(!await l[e].checkConditions(i))return n(0,c=null),h=null,void d("conditionsFailed",i);d("routeLoading",Object.assign({},i));const r=l[e].component;if(h!=r){r.loading?(n(0,c=r.loading),h=r,n(1,a=r.loadingParams),n(2,u={}),d("routeLoaded",Object.assign({},i,{component:c,name:c.name}))):(n(0,c=null),h=null);const e=await r();if(t!=p)return;n(0,c=e&&e.default||e),h=r}return o&&"object"==typeof o&&Object.keys(o).length?n(1,a=o):n(1,a=null),n(2,u=l[e].props),void d("routeLoaded",Object.assign({},i,{component:c,name:c.name}))}n(0,c=null),h=null})),t.$$set=t=>{"routes"in t&&n(3,o=t.routes),"prefix"in t&&n(4,i=t.prefix),"restoreScrollState"in t&&n(5,r=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=r?"manual":"auto")},[c,a,u,o,i,r,function(e){q(t,e)},function(e){q(t,e)}]}yt(It,(t=>t.location)),yt(It,(t=>t.querystring));class Lt extends ht{constructor(t){super(),pt(this,t,zt,xt,l,{routes:3,prefix:4,restoreScrollState:5})}}function Ct(t){const e=t-1;return e*e*e+1}function jt(t,{delay:n=0,duration:o=400,easing:i=e}={}){const r=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:i,css:t=>"opacity: "+t*r}}function Tt(t,{delay:e=0,duration:n=400,easing:o=Ct,x:i=0,y:r=0,opacity:s=0}={}){const l=getComputedStyle(t),c=+l.opacity,a="none"===l.transform?"":l.transform,u=c*(1-s);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*i}px, ${(1-t)*r}px);\n\t\t\topacity: ${c-u*e}`}}function Dt(e){let n,o,i;return{c(){n=v("img"),x(n,"id","themeIcon"),n.src!==(o="img/moon.svg")&&x(n,"src","img/moon.svg"),x(n,"alt","moon")},m(t,e){p(t,n,e)},i(t){i||Y((()=>{i=ct(n,Tt,{y:50,duration:500}),i.start()}))},o:t,d(t){t&&h(n)}}}function Mt(e){let n,o,i;return{c(){n=v("img"),x(n,"id","themeIcon"),n.src!==(o="img/sun.svg")&&x(n,"src","img/sun.svg"),x(n,"alt","sun")},m(t,e){p(t,n,e)},i(t){i||Y((()=>{i=ct(n,Tt,{y:50,duration:500}),i.start()}))},o:t,d(t){t&&h(n)}}}function Rt(e){let n,o,i,s,l,c,a,u,m;function d(t,e){return t[0]?Mt:Dt}let f=d(e),b=f(e);return{c(){n=v("div"),o=v("div"),i=v("div"),i.innerHTML='<img src="img/logo.svg" alt="logo" class="navbaricon logo u-pull-left" style=""/> \n            <h6 class="header-title u-pull-left" style="margin-bottom: 0"><strong>Planning Poker</strong></h6>',s=y(),l=v("div"),b.c(),c=y(),a=v("a"),a.innerHTML='<img src="img/help-circle.svg" alt="help" class="navbaricon icon-basic u-pull-right" style="margin-right: 1rem"/>',E(i,"cursor","pointer"),x(l,"id","darkmodetrigger"),x(l,"class","navbaricon darkmodetrigger u-pull-right"),x(a,"href","http://localhost:3000/#/tutorial"),x(a,"target","_blank"),x(o,"id","header"),x(o,"class","header"),x(n,"class","content")},m(t,r){p(t,n,r),g(n,o),g(o,i),g(o,s),g(o,l),b.m(l,null),g(o,c),g(o,a),u||(m=[k(i,"click",e[1]),k(l,"click",e[2])],u=!0)},p(t,[e]){f!==(f=d(t))&&(b.d(1),b=f(t),b&&(b.c(),rt(b,1),b.m(l,null)))},i(t){rt(b)},o:t,d(t){t&&h(n),b.d(),u=!1,r(m)}}}function At(t){let e=document.getElementById("themeStyle");void 0===localStorage.getItem("theme")&&localStorage.setItem("theme","css/dark.css"),t?(e.setAttribute("href","css/dark.css"),localStorage.setItem("theme","css/dark.css")):(e.setAttribute("href","css/light.css"),localStorage.setItem("theme","css/light.css"))}function Bt(t,e,n){let o=!0;return A((()=>{"css/light.css"===localStorage.getItem("theme")&&(n(0,o=!1),At(o))})),[o,t=>{t.preventDefault(),_t("/")},function(){n(0,o=!o),At(o)}]}class qt extends ht{constructor(t){super(),pt(this,t,Bt,Rt,l,{})}}function Ht(e){let n,o,i,s,l,c,a,u,m,d;return{c(){n=v("div"),o=v("div"),o.innerHTML='<h3>A simple, online planning poker tool.</h3> \n        <span style="font-size: 15px">Just start a session or join an existing one to estimate your user stories.</span>',i=y(),s=v("div"),l=v("button"),l.textContent="Start",c=y(),a=v("button"),a.textContent="Join",x(o,"class","nine columns"),E(o,"margin-bottom","10%"),x(l,"class","button-primary-start u-full-width"),x(a,"class","button-primary-join u-full-width"),x(s,"class","three columns indexbuttons"),E(s,"margin-bottom","10%"),x(n,"class","row"),E(n,"margin-top","15%"),E(n,"margin-bottom","5%")},m(t,r){p(t,n,r),g(n,o),g(n,i),g(n,s),g(s,l),g(s,c),g(s,a),m||(d=[k(l,"click",e[0]),k(a,"click",e[1])],m=!0)},p:t,i(t){u||Y((()=>{u=ct(n,jt,{}),u.start()}))},o:t,d(t){t&&h(n),m=!1,r(d)}}}function Ot(t,e,n){return[()=>{Et("/start")},()=>{Et("/join")},null]}let Nt={username:"",roomID:"",role:"member"};function Pt(t,e,n="member"){Nt.username=t||"user",Nt.roomID=e||"",Nt.role=n,localStorage.setItem("username",t),localStorage.setItem("role",n),socket.connect(),socket.emit("joinRoom",Nt)}function Ut(t){return t.length>2&&t.length<13}function Jt(t){return null!==t&&5===t.length&&null!==t.match(/^[0-9]+$/)}function Wt(){let t=document.getElementById("submitButton");t.classList.add("button-primary-negative"),setTimeout((function(){t.classList.remove("button-primary-negative")}),300)}function Ft(e){let n,o,i;return{c(){n=v("img"),E(n,"vertical-align","middle"),n.src!==(o="img/eye-off.svg")&&x(n,"src","img/eye-off.svg"),x(n,"alt","unchecked")},m(t,e){p(t,n,e)},i(t){i||Y((()=>{i=ct(n,jt,{}),i.start()}))},o:t,d(t){t&&h(n)}}}function Yt(e){let n,o,i;return{c(){n=v("img"),E(n,"vertical-align","middle"),n.src!==(o="img/eye.svg")&&x(n,"src","img/eye.svg"),x(n,"alt","checked")},m(t,e){p(t,n,e)},i(t){i||Y((()=>{i=ct(n,jt,{}),i.start()}))},o:t,d(t){t&&h(n)}}}function Zt(e){let n,o,i,r,s,l;function c(t,e){return t[0]?Yt:Ft}let a=c(e),u=a(e);return{c(){n=v("div"),o=v("div"),u.c(),i=y(),r=v("span"),r.textContent="Join as spectator",x(o,"class","checkboxContainer"),E(r,"padding-top","1px"),E(r,"float","left"),E(n,"cursor","pointer")},m(t,c){p(t,n,c),g(n,o),u.m(o,null),g(n,i),g(n,r),s||(l=k(n,"click",e[1]),s=!0)},p(t,[e]){a!==(a=c(t))&&(u.d(1),u=a(t),u&&(u.c(),rt(u,1),u.m(o,null)))},i(t){rt(u)},o:t,d(t){t&&h(n),u.d(),s=!1,l()}}}function Xt(t,e,n){let{isSpectator:o=!1}=e;const i=B();A((()=>{r(),r()}));const r=()=>{n(0,o=!o),i("setRole",o)};return t.$$set=t=>{"isSpectator"in t&&n(0,o=t.isSpectator)},[o,r]}class Vt extends ht{constructor(t){super(),pt(this,t,Xt,Zt,l,{isSpectator:0})}}function Kt(t){let e,n,o,i,s,l,c,a,u,m,d,f,b,$,w,S;return f=new Vt({props:{isSpectator:t[2]}}),f.$on("setRole",t[3]),{c(){e=v("div"),n=v("div"),o=v("input"),i=y(),s=v("label"),s.textContent="Please enter your username.",l=y(),c=v("input"),a=y(),u=v("div"),m=v("button"),m.textContent="start",d=y(),dt(f.$$.fragment),x(o,"class","u-full-width"),x(o,"type","text"),x(o,"placeholder","Username"),x(o,"name","username"),x(o,"id","usernameInput"),x(o,"minlength","3"),x(o,"maxlength","12"),x(o,"autocomplete","off"),o.required=!0,x(s,"id","usernameLabel"),x(s,"for","usernameInput"),x(c,"type","hidden"),x(c,"name","room"),x(c,"id","roomIDInput"),x(n,"class","nine columns"),x(m,"class","button-primary button-submit u-full-width"),x(m,"type","submit"),x(m,"id","submitButton"),E(m,"transition","500ms"),x(u,"class","three columns"),x(e,"class","row"),E(e,"margin-top","15%")},m(r,h){p(r,e,h),g(e,n),g(n,o),I(o,t[0]),g(n,i),g(n,s),g(n,l),g(n,c),I(c,t[1]),g(e,a),g(e,u),g(u,m),g(u,d),ft(f,u,null),$=!0,w||(S=[k(o,"input",t[5]),k(c,"input",t[6]),k(m,"click",t[4])],w=!0)},p(t,[e]){1&e&&o.value!==t[0]&&I(o,t[0]),2&e&&I(c,t[1]);const n={};4&e&&(n.isSpectator=t[2]),f.$set(n)},i(t){$||(rt(f.$$.fragment,t),b||Y((()=>{b=ct(e,jt,{}),b.start()})),$=!0)},o(t){st(f.$$.fragment,t),$=!1},d(t){t&&h(e),gt(f),w=!1,r(S)}}}function Gt(t,e,n){let o=localStorage.getItem("username")||"",i="",r=localStorage.getItem("role")||"member",s=!1;A((()=>{o&&document.getElementById("submitButton").focus(),"spectator"===r&&n(2,s=!0)}));return[o,i,s,t=>{t.detail&&(r="spectator"),t.detail||(r="member"),localStorage.setItem("role",r)},()=>{Ut(o)&&Jt("00000")?Pt(o,i,r):Wt()},function(){o=this.value,n(0,o)},function(){i=this.value,n(1,i)}]}function Qt(t){let e,n,o,i,s,l,c,a,u,m,d;return{c(){e=v("div"),n=v("input"),o=y(),i=v("label"),i.textContent="Please enter your username.",s=y(),l=v("div"),c=v("input"),a=y(),u=v("label"),u.textContent="Please enter the room-id.",x(n,"class","u-full-width"),x(n,"type","text"),x(n,"placeholder","Username"),x(n,"name","username"),x(n,"id","usernameInput"),x(n,"minlength","3"),x(n,"maxlength","12"),x(n,"autocomplete","off"),n.required=!0,x(i,"id","usernameLabel"),x(i,"for","usernameInput"),x(e,"class","five columns"),x(c,"class","u-full-width"),x(c,"type","text"),x(c,"placeholder","12345"),x(c,"name","room"),x(c,"id","roomIDInput"),x(c,"minlength","5"),x(c,"maxlength","5"),x(c,"autocomplete","off"),c.required=!0,x(u,"id","roomidLabel"),x(u,"for","roomIdInput"),x(l,"class","four columns")},m(r,f){p(r,e,f),g(e,n),I(n,t[0]),g(e,o),g(e,i),p(r,s,f),p(r,l,f),g(l,c),I(c,t[1]),g(l,a),g(l,u),m||(d=[k(n,"input",t[9]),k(c,"input",t[10])],m=!0)},p(t,e){1&e&&n.value!==t[0]&&I(n,t[0]),2&e&&c.value!==t[1]&&I(c,t[1])},d(t){t&&h(e),t&&h(s),t&&h(l),m=!1,r(d)}}}function te(t){let e,n,o,i,s,l,c,a;return{c(){e=v("div"),n=v("input"),o=y(),i=v("label"),i.textContent="Please enter your username.",s=y(),l=v("input"),x(n,"class","u-full-width"),x(n,"type","text"),x(n,"placeholder","Username"),x(n,"name","username"),x(n,"id","usernameInput"),x(n,"minlength","3"),x(n,"maxlength","12"),x(n,"autocomplete","off"),n.required=!0,x(i,"id","usernameLabel"),x(i,"for","usernameInput"),x(l,"type","hidden"),x(l,"name","room"),x(l,"id","roomIDInput"),x(e,"class","nine columns")},m(r,u){p(r,e,u),g(e,n),I(n,t[0]),g(e,o),g(e,i),g(e,s),g(e,l),I(l,t[1]),c||(a=[k(n,"input",t[7]),k(l,"input",t[8])],c=!0)},p(t,e){1&e&&n.value!==t[0]&&I(n,t[0]),2&e&&I(l,t[1])},d(t){t&&h(e),c=!1,r(a)}}}function ee(t){let e,n,o,i,r,s,l,c,a,u;function m(t,e){return t[3]?te:Qt}let d=m(t),f=d(t);return s=new Vt({props:{isSpectator:t[2]}}),s.$on("setRole",t[4]),{c(){e=v("div"),f.c(),n=y(),o=v("div"),i=v("button"),i.textContent="join",r=y(),dt(s.$$.fragment),x(i,"class","button-primary button-submit u-full-width"),x(i,"type","submit"),x(i,"id","submitButton"),E(i,"transition","500ms"),x(o,"class","three columns"),x(e,"class","row"),E(e,"margin-top","15%")},m(l,m){p(l,e,m),f.m(e,null),g(e,n),g(e,o),g(o,i),g(o,r),ft(s,o,null),c=!0,a||(u=k(i,"click",t[5]),a=!0)},p(t,[o]){d===(d=m(t))&&f?f.p(t,o):(f.d(1),f=d(t),f&&(f.c(),f.m(e,n)));const i={};4&o&&(i.isSpectator=t[2]),s.$set(i)},i(t){c||(rt(s.$$.fragment,t),l||Y((()=>{l=ct(e,jt,{}),l.start()})),c=!0)},o(t){st(s.$$.fragment,t),c=!1},d(t){t&&h(e),f.d(),gt(s),a=!1,u()}}}function ne(t,e,n){let{params:o={}}=e,i=localStorage.getItem("username")||"",r="",s=localStorage.getItem("role")||"member",l=!1,c=!1;A((()=>{Jt(o.id)&&(n(3,c=!0),n(1,r=o.id),document.getElementById("submitButton").focus()),"spectator"===s&&n(2,l=!0)}));return t.$$set=t=>{"params"in t&&n(6,o=t.params)},[i,r,l,c,t=>{t.detail&&(s="spectator"),t.detail||(s="member"),localStorage.setItem("role",s)},()=>{Ut(i)&&Jt(r)?Pt(i,r,s):Wt()},o,function(){i=this.value,n(0,i)},function(){r=this.value,n(1,r)},function(){i=this.value,n(0,i)},function(){r=this.value,n(1,r)}]}let oe={lowest:{},highest:{}},ie="",re=[];function se(t){if(re=[...t.filter(le)],re.length){let t=function(t){return t.reduce((function(t,e){return parseInt(t.estimation)<parseInt(e.estimation)?t:e}))}(re),e=function(t){return t.reduce((function(t,e){return parseInt(t.estimation)>parseInt(e.estimation)?t:e}))}(re);t.estimation!==e.estimation&&Object.assign(oe,{lowest:t,highest:e})}}function le(t){if(!isNaN(parseInt(t.estimation)))return t}function ce(){ie=""}function ae(e){let n,o,i,r,s;return{c(){n=v("div"),o=v("button"),i=$(e[0]),x(o,"id",e[0]),x(o,"class","u-full-width"),x(o,"onclick","this.blur();"),o.disabled=e[1],x(n,"class","two columns")},m(t,l){p(t,n,l),g(n,o),g(o,i),r||(s=k(o,"click",e[2]),r=!0)},p(t,[e]){1&e&&S(i,t[0]),1&e&&x(o,"id",t[0]),2&e&&(o.disabled=t[1])},i:t,o:t,d(t){t&&h(n),r=!1,s()}}}function ue(t,e,n){let{value:o}=e,{isDisabled:i=!1}=e;const r=B();return t.$$set=t=>{"value"in t&&n(0,o=t.value),"isDisabled"in t&&n(1,i=t.isDisabled)},[o,i,()=>{!function(t){let e=document.getElementsByClassName("button-primary-positive");0!==e.length&&e[0].classList.toggle("button-primary-positive"),e=document.getElementById(t),e.classList.toggle("button-primary-positive")}(o),r("setEstimation",o)}]}class me extends ht{constructor(t){super(),pt(this,t,ue,ae,l,{value:0,isDisabled:1})}}function de(e){let n,o;return{c(){n=v("h4"),o=$(e[0]),E(n,"visibility","hidden")},m(t,e){p(t,n,e),g(n,o)},p(t,e){1&e&&S(o,t[0])},i:t,o:t,d(t){t&&h(n)}}}function fe(n){let o,i,l,c;return{c(){o=v("h4"),i=$(n[0]),E(o,"text-align","center")},m(t,e){p(t,o,e),g(o,i),c=!0},p(t,e){(!c||1&e)&&S(i,t[0])},i(t){c||(l&&l.end(1),c=!0)},o(n){l=function(n,o,i){let l,c=o(n,i),u=!0;const m=nt;function d(){const{delay:o=0,duration:i=300,easing:s=e,tick:d=t,css:g}=c||lt;g&&(l=T(n,1,0,i,o,s,g));const p=a()+o,h=p+i;Y((()=>tt(n,!1,"start"))),f((t=>{if(u){if(t>=h)return d(0,1),tt(n,!1,"end"),--m.r||r(m.c),!1;if(t>=p){const e=s((t-p)/i);d(1-e,e)}}return u}))}return m.r+=1,s(c)?Q().then((()=>{c=c(),d()})):d(),{end(t){t&&c.tick&&c.tick(1,0),u&&(l&&D(n,l),u=!1)}}}(o,jt,{delay:2500,duration:500}),c=!1},d(t){t&&h(o),t&&l&&l.end()}}}function ge(t){let e,n,o,i;const r=[fe,de],s=[];function l(t,e){return t[1]?0:1}return e=l(t),n=s[e]=r[e](t),{c(){n.c(),o=w()},m(t,n){s[e].m(t,n),p(t,o,n),i=!0},p(t,[i]){let c=e;e=l(t),e===c?s[e].p(t,i):(ot(),st(s[c],1,1,(()=>{s[c]=null})),it(),n=s[e],n?n.p(t,i):(n=s[e]=r[e](t),n.c()),rt(n,1),n.m(o.parentNode,o))},i(t){i||(rt(n),i=!0)},o(t){st(n),i=!1},d(t){s[e].d(t),t&&h(o)}}}function pe(t,e,n){let{msg:o}=e,{transition:i}=e;return t.$$set=t=>{"msg"in t&&n(0,o=t.msg),"transition"in t&&n(1,i=t.transition)},[o,i]}class he extends ht{constructor(t){super(),pt(this,t,pe,ge,l,{msg:0,transition:1})}}function be(t){let e;function n(t,e){return t[3]&&""!==t[2]?$e:ve}let o=n(t),i=o(t);return{c(){e=v("td"),i.c(),x(e,"class","estimation")},m(t,n){p(t,e,n),i.m(e,null)},p(t,r){o===(o=n(t))&&i?i.p(t,r):(i.d(1),i=o(t),i&&(i.c(),i.m(e,null)))},d(t){t&&h(e),i.d()}}}function ve(t){let e,n,o,i;function r(t,e){return t[1]===t[5].lowest.id?we:t[1]===t[5].highest.id?ye:void 0}let s=r(t),l=s&&s(t);return{c(){e=v("div"),n=$(t[2]),o=y(),l&&l.c(),i=w(),x(e,"class","u-pull-left")},m(t,r){p(t,e,r),g(e,n),p(t,o,r),l&&l.m(t,r),p(t,i,r)},p(t,e){4&e&&S(n,t[2]),s!==(s=r(t))&&(l&&l.d(1),l=s&&s(t),l&&(l.c(),l.m(i.parentNode,i)))},d(t){t&&h(e),t&&h(o),l&&l.d(t),t&&h(i)}}}function $e(e){let n,o;return{c(){n=v("img"),n.src!==(o="/img/check.svg")&&x(n,"src","/img/check.svg"),x(n,"alt","ready"),E(n,"vertical-align","middle")},m(t,e){p(t,n,e)},p:t,d(t){t&&h(n)}}}function ye(t){let e;return{c(){e=v("div"),e.innerHTML='<img src="/img/arrow-up.svg" alt="highest" style="vertical-align: middle; margin-right: 2.5rem;"/>',x(e,"class","u-pull-right")},m(t,n){p(t,e,n)},d(t){t&&h(e)}}}function we(t){let e;return{c(){e=v("div"),e.innerHTML='<img src="/img/arrow-down.svg" alt="lowest" style="vertical-align: middle; margin-right: 2.5rem;"/>',x(e,"class","u-pull-right")},m(t,n){p(t,e,n)},d(t){t&&h(e)}}}function ke(e){let n,o,i,r,s="spectator"!==e[2]&&be(e);return{c(){n=v("tr"),o=v("td"),i=$(e[0]),r=y(),s&&s.c(),_(o,"isSelf",e[1]===e[4])},m(t,e){p(t,n,e),g(n,o),g(o,i),g(n,r),s&&s.m(n,null)},p(t,[e]){1&e&&S(i,t[0]),18&e&&_(o,"isSelf",t[1]===t[4]),"spectator"!==t[2]?s?s.p(t,e):(s=be(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null)},i:t,o:t,d(t){t&&h(n),s&&s.d()}}}function xe(t,e,n){let{name:o}=e,{id:i}=e,{estimation:r}=e,{isReady:s=!1}=e,{socketid:l}=e,{outliers:c}=e;return t.$$set=t=>{"name"in t&&n(0,o=t.name),"id"in t&&n(1,i=t.id),"estimation"in t&&n(2,r=t.estimation),"isReady"in t&&n(3,s=t.isReady),"socketid"in t&&n(4,l=t.socketid),"outliers"in t&&n(5,c=t.outliers)},[o,i,r,s,l,c]}class Se extends ht{constructor(t){super(),pt(this,t,xe,ke,l,{name:0,id:1,estimation:2,isReady:3,socketid:4,outliers:5})}}function Ie(e){let n,o,i,s,l,c,a,u,m,d,f,b,$,w,S,I;return{c(){n=v("div"),o=v("div"),i=v("div"),i.innerHTML='<div class="twelve columns" style="margin-bottom: 15%; margin-top: 10%; text-align: center">Do you really want to leave the lobby?</div>',s=y(),l=v("div"),c=v("div"),a=v("button"),a.textContent="stay",u=y(),m=v("div"),d=v("button"),d.textContent="leave",b=y(),$=v("div"),x(i,"class","row"),x(a,"class","button-primary-join u-full-width"),x(a,"onclick","this.blur();"),x(c,"class","six columns"),x(d,"class","button-primary-negative u-full-width"),x(d,"onclick","this.blur();"),x(m,"class","six columns"),x(l,"class","row"),E(l,"margin-bottom","10%"),x(o,"class","container"),x(n,"class","modal"),x(n,"id","modal"),x($,"class","underlay")},m(t,r){var f;p(t,n,r),g(n,o),g(o,i),g(o,s),g(o,l),g(l,c),g(c,a),g(l,u),g(l,m),g(m,d),p(t,b,r),p(t,$,r),w=!0,S||(I=[k(window,"click",e[2]),k(a,"click",e[0]),k(d,"click",e[1]),k(n,"click",(f=e[3],function(t){return t.stopPropagation(),f.call(this,t)}))],S=!0)},p:t,i(t){w||(Y((()=>{f||(f=at(n,jt,{},!0)),f.run(1)})),w=!0)},o(t){f||(f=at(n,jt,{},!1)),f.run(0),w=!1},d(t){t&&h(n),t&&f&&f.end(),t&&h(b),t&&h($),S=!1,r(I)}}}function Ee(t){const e=B();let n=!1;const o=()=>{e("leave",!1)};return[o,()=>{e("leave",!0)},()=>{n&&o(),n=!0},function(e){q(t,e)}]}class _e extends ht{constructor(t){super(),pt(this,t,Ee,Ie,l,{})}}function ze(e){let n,o,i,r,s,l,c,a,u,m,d;return{c(){n=v("div"),o=v("h4"),i=$("room-id: \r\n        "),r=v("span"),s=$(e[0]),l=y(),c=v("div"),a=v("img"),x(r,"id","roomID"),x(r,"class","readycolor"),x(o,"class","u-pull-left"),E(o,"vertical-align","middle"),a.src!==(u="/img/copy.svg")&&x(a,"src","/img/copy.svg"),E(a,"cursor","pointer"),E(a,"vertical-align","middle"),x(a,"alt","share"),x(c,"class","u-pull-left icon-basic copyicon")},m(t,u){p(t,n,u),g(n,o),g(o,i),g(o,r),g(r,s),g(n,l),g(n,c),g(c,a),m||(d=k(a,"click",e[1]),m=!0)},p(t,[e]){1&e&&S(s,t[0])},i:t,o:t,d(t){t&&h(n),m=!1,d()}}}function Le(t,e,n){let{id:o}=e;const i=B();return t.$$set=t=>{"id"in t&&n(0,o=t.id)},[o,()=>{i("copy")}]}class Ce extends ht{constructor(t){super(),pt(this,t,Le,ze,l,{id:0})}}function je(t,e,n){const o=t.slice();return o[24]=e[n],o}function Te(t,e,n){const o=t.slice();return o[24]=e[n],o}function De(t,e,n){const o=t.slice();return o[29]=e[n],o}function Me(t,e,n){const o=t.slice();return o[32]=e[n],o}function Re(e){let n,o;return n=new he({props:{msg:" ",transition:!1}}),{c(){dt(n.$$.fragment)},m(t,e){ft(n,t,e),o=!0},p:t,i(t){o||(rt(n.$$.fragment,t),o=!0)},o(t){st(n.$$.fragment,t),o=!1},d(t){gt(n,t)}}}function Ae(t){let e,n;return e=new he({props:{msg:t[1],transition:!0}}),{c(){dt(e.$$.fragment)},m(t,o){ft(e,t,o),n=!0},p(t,n){const o={};2&n[0]&&(o.msg=t[1]),e.$set(o)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){gt(e,t)}}}function Be(t){let e,n,o,i,r,s,l=t[3],c=[];for(let e=0;e<l.length;e+=1)c[e]=He(Me(t,l,e));const a=t=>st(c[t],1,1,(()=>{c[t]=null}));let u=""!==t[8]&&Oe(t);return{c(){e=v("table"),n=v("thead"),n.innerHTML="<tr><th>Members</th> \n                            <th>Estimation</th></tr>",o=y(),i=v("tbody");for(let t=0;t<c.length;t+=1)c[t].c();r=y(),u&&u.c(),x(i,"id","playerlist"),x(e,"class","u-full-width")},m(t,l){p(t,e,l),g(e,n),g(e,o),g(e,i);for(let t=0;t<c.length;t+=1)c[t].m(i,null);g(i,r),u&&u.m(i,null),s=!0},p(t,e){if(72&e[0]){let n;for(l=t[3],n=0;n<l.length;n+=1){const o=Me(t,l,n);c[n]?(c[n].p(o,e),rt(c[n],1)):(c[n]=He(o),c[n].c(),rt(c[n],1),c[n].m(i,r))}for(ot(),n=l.length;n<c.length;n+=1)a(n);it()}""!==t[8]?u?u.p(t,e):(u=Oe(t),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},i(t){if(!s){for(let t=0;t<l.length;t+=1)rt(c[t]);s=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)st(c[t]);s=!1},d(t){t&&h(e),b(c,t),u&&u.d()}}}function qe(e){let n;return{c(){n=v("h4")},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&h(n)}}}function He(t){let e,n;return e=new Se({props:{name:t[32].username,id:t[32].id,estimation:t[32].estimation,isReady:t[6],socketid:socket.id,outliers:oe}}),{c(){dt(e.$$.fragment)},m(t,o){ft(e,t,o),n=!0},p(t,n){const o={};8&n[0]&&(o.name=t[32].username),8&n[0]&&(o.id=t[32].id),8&n[0]&&(o.estimation=t[32].estimation),64&n[0]&&(o.isReady=t[6]),e.$set(o)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){gt(e,t)}}}function Oe(t){let e,n,o,i,r;return{c(){e=v("tr"),n=v("td"),n.textContent="Average",o=y(),i=v("td"),r=$(t[8]),x(i,"id","AuMgIVUHfSHpDpgMAAAB"),E(e,"color","#FCA311")},m(t,s){p(t,e,s),g(e,n),g(e,o),g(e,i),g(i,r)},p(t,e){256&e[0]&&S(r,t[8])},d(t){t&&h(e)}}}function Ne(t){let e,n,o,i,r,s=t[4],l=[];for(let e=0;e<s.length;e+=1)l[e]=Ue(De(t,s,e));const c=t=>st(l[t],1,1,(()=>{l[t]=null}));return{c(){e=v("table"),n=v("thead"),n.innerHTML="<tr><th>Spectators</th></tr>",o=y(),i=v("tbody");for(let t=0;t<l.length;t+=1)l[t].c();x(i,"id","spectatorlist"),x(e,"class","u-full-width")},m(t,s){p(t,e,s),g(e,n),g(e,o),g(e,i);for(let t=0;t<l.length;t+=1)l[t].m(i,null);r=!0},p(t,e){if(16&e[0]){let n;for(s=t[4],n=0;n<s.length;n+=1){const o=De(t,s,n);l[n]?(l[n].p(o,e),rt(l[n],1)):(l[n]=Ue(o),l[n].c(),rt(l[n],1),l[n].m(i,null))}for(ot(),n=s.length;n<l.length;n+=1)c(n);it()}},i(t){if(!r){for(let t=0;t<s.length;t+=1)rt(l[t]);r=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)st(l[t]);r=!1},d(t){t&&h(e),b(l,t)}}}function Pe(e){let n;return{c(){n=v("h4")},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&h(n)}}}function Ue(t){let e,n;return e=new Se({props:{name:t[29].username,id:t[29].id,estimation:"spectator",socketid:socket.id}}),{c(){dt(e.$$.fragment)},m(t,o){ft(e,t,o),n=!0},p(t,n){const o={};16&n[0]&&(o.name=t[29].username),16&n[0]&&(o.id=t[29].id),e.$set(o)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){gt(e,t)}}}function Je(t){let e,n;return e=new me({props:{value:t[24],isDisabled:t[7]}}),e.$on("setEstimation",t[14]),{c(){dt(e.$$.fragment)},m(t,o){ft(e,t,o),n=!0},p(t,n){const o={};128&n[0]&&(o.isDisabled=t[7]),e.$set(o)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){gt(e,t)}}}function We(t){let e,n;return e=new me({props:{value:t[24],isDisabled:t[7]}}),e.$on("setEstimation",t[14]),{c(){dt(e.$$.fragment)},m(t,o){ft(e,t,o),n=!0},p(t,n){const o={};128&n[0]&&(o.isDisabled=t[7]),e.$set(o)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){gt(e,t)}}}function Fe(e){let n,o;return n=new _e({}),n.$on("leave",e[12]),{c(){dt(n.$$.fragment)},m(t,e){ft(n,t,e),o=!0},p:t,i(t){o||(rt(n.$$.fragment,t),o=!0)},o(t){st(n.$$.fragment,t),o=!1},d(t){gt(n,t)}}}function Ye(t){let e,n,o,i,s,l,c,a,u,m,d,f,$,S,I,_,z,L,C,j,T,D,M,R,A,B,q,H,O,N,P,U;i=new Ce({props:{id:t[0]||"00000"}}),i.$on("copy",t[15]);const J=[Ae,Re],W=[];function F(t,e){return t[2]?0:1}c=F(t),a=W[c]=J[c](t);const Z=[qe,Be],X=[];function V(t,e){return 0===t[3].length?0:1}L=V(t),C=X[L]=Z[L](t);const K=[Pe,Ne],G=[];function Q(t,e){return 0===t[4].length?0:1}R=Q(t),A=G[R]=K[R](t);let tt="member"===Nt.role&&function(t){let e,n,o,i,r=t[9],s=[];for(let e=0;e<r.length;e+=1)s[e]=Je(Te(t,r,e));const l=t=>st(s[t],1,1,(()=>{s[t]=null}));let c=t[10],a=[];for(let e=0;e<c.length;e+=1)a[e]=We(je(t,c,e));const u=t=>st(a[t],1,1,(()=>{a[t]=null}));return{c(){e=v("div");for(let t=0;t<s.length;t+=1)s[t].c();n=y(),o=v("div");for(let t=0;t<a.length;t+=1)a[t].c();x(e,"class","row"),E(e,"margin-top","5%"),x(o,"class","row lowerrow")},m(t,r){p(t,e,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);p(t,n,r),p(t,o,r);for(let t=0;t<a.length;t+=1)a[t].m(o,null);i=!0},p(t,n){if(17024&n[0]){let o;for(r=t[9],o=0;o<r.length;o+=1){const i=Te(t,r,o);s[o]?(s[o].p(i,n),rt(s[o],1)):(s[o]=Je(i),s[o].c(),rt(s[o],1),s[o].m(e,null))}for(ot(),o=r.length;o<s.length;o+=1)l(o);it()}if(17536&n[0]){let e;for(c=t[10],e=0;e<c.length;e+=1){const i=je(t,c,e);a[e]?(a[e].p(i,n),rt(a[e],1)):(a[e]=We(i),a[e].c(),rt(a[e],1),a[e].m(o,null))}for(ot(),e=c.length;e<a.length;e+=1)u(e);it()}},i(t){if(!i){for(let t=0;t<r.length;t+=1)rt(s[t]);for(let t=0;t<c.length;t+=1)rt(a[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)st(s[t]);a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)st(a[t]);i=!1},d(t){t&&h(e),b(s,t),t&&h(n),t&&h(o),b(a,t)}}}(t),et=t[5]&&Fe(t);return{c(){e=v("div"),n=v("div"),o=v("div"),dt(i.$$.fragment),s=y(),l=v("div"),a.c(),u=y(),m=v("div"),d=v("button"),d.textContent="reset",f=y(),$=v("div"),S=v("button"),S.textContent="leave",I=y(),_=v("div"),z=v("div"),C.c(),j=y(),T=v("div"),T.innerHTML="<h4></h4>",D=y(),M=v("div"),A.c(),B=y(),tt&&tt.c(),H=y(),et&&et.c(),O=w(),x(o,"class","four columns"),x(l,"class","four columns"),x(l,"id","bannerfield"),x(d,"class","button-primary-join u-full-width"),E(d,"display","grid"),E(d,"place-items","center"),x(d,"onclick","this.blur();"),x(m,"class","two columns"),x(S,"class","button-primary-negative u-full-width"),x($,"class","two columns"),x(n,"class","row"),E(n,"margin-top","15%"),x(z,"class","four columns"),x(T,"class","six columns"),x(M,"class","two columns"),x(_,"class","row"),E(_,"margin-top","5%"),x(e,"class","content")},m(r,a){p(r,e,a),g(e,n),g(n,o),ft(i,o,null),g(n,s),g(n,l),W[c].m(l,null),g(n,u),g(n,m),g(m,d),g(n,f),g(n,$),g($,S),g(e,I),g(e,_),g(_,z),X[L].m(z,null),g(_,j),g(_,T),g(_,D),g(_,M),G[R].m(M,null),g(e,B),tt&&tt.m(e,null),p(r,H,a),et&&et.m(r,a),p(r,O,a),N=!0,P||(U=[k(d,"click",t[13]),k(S,"click",t[11])],P=!0)},p(t,e){const n={};1&e[0]&&(n.id=t[0]||"00000"),i.$set(n);let o=c;c=F(t),c===o?W[c].p(t,e):(ot(),st(W[o],1,1,(()=>{W[o]=null})),it(),a=W[c],a?a.p(t,e):(a=W[c]=J[c](t),a.c()),rt(a,1),a.m(l,null));let r=L;L=V(t),L===r?X[L].p(t,e):(ot(),st(X[r],1,1,(()=>{X[r]=null})),it(),C=X[L],C?C.p(t,e):(C=X[L]=Z[L](t),C.c()),rt(C,1),C.m(z,null));let s=R;R=Q(t),R===s?G[R].p(t,e):(ot(),st(G[s],1,1,(()=>{G[s]=null})),it(),A=G[R],A?A.p(t,e):(A=G[R]=K[R](t),A.c()),rt(A,1),A.m(M,null)),"member"===Nt.role&&tt.p(t,e),t[5]?et?(et.p(t,e),32&e[0]&&rt(et,1)):(et=Fe(t),et.c(),rt(et,1),et.m(O.parentNode,O)):et&&(ot(),st(et,1,1,(()=>{et=null})),it())},i(t){N||(rt(i.$$.fragment,t),rt(a),rt(C),rt(A),rt(tt),q||Y((()=>{q=ct(e,jt,{}),q.start()})),rt(et),N=!0)},o(t){st(i.$$.fragment,t),st(a),st(C),st(A),st(tt),st(et),N=!1},d(t){t&&h(e),gt(i),W[c].d(),X[L].d(),G[R].d(),tt&&tt.d(),t&&h(H),et&&et.d(t),t&&h(O),P=!1,r(U)}}}function Ze(t,e,n){let o,i,{params:r={}}=e,s="",l=!1,c=[],a=[],u=0,m=!1,d=!0,f=!1,g="";var p;A((()=>{if(n(0,o=r.id),!socket.connected){let t=localStorage.getItem("username"),e=localStorage.getItem("role");t&&Pt(t,o,e)}socket.emit("ready"),h()})),p=()=>{socket.disconnect()},R().$$.on_destroy.push(p);const h=()=>{clearTimeout(i),i=setTimeout((()=>_t("/join/"+o)),6e4)},b=()=>{let t=document.getElementsByClassName("content");for(let e=0;e<t.length;e++)t[e].classList.toggle("is-blurred");n(5,m=!m)};function v(t){n(1,s=t),n(2,l=!0),setTimeout((function(){n(2,l=!1)}),1)}socket.on("resetReveal",(()=>{n(6,d=!0),n(7,f=!1),ce(),n(8,g=ie)})),socket.on("bannermessage",(t=>{v(t)})),socket.on("roomUsers",(t=>{n(3,c=[]),n(4,a=[]),n(3,c=t.filter((t=>"member"===t.role))),n(4,a=t.filter((t=>"spectator"===t.role)))})),socket.on("addUser",(t=>{"member"===t.role&&n(3,c=[...c,t]),"spectator"===t.role&&n(4,a=[...a,t])})),socket.on("removeUser",(t=>{"member"===t.role&&n(3,c=c.filter((e=>e.id!==t.id))),"spectator"===t.role&&n(4,a=a.filter((e=>e.id!==t.id)))}));function $(t){let e=c.findIndex((e=>e.id==t.id));""===c[e].estimation&&(c.length-1!==u&&(t.isReady=!0),u++),n(3,c[e]=t,c)}socket.on("newEstimation",(t=>{$(t)})),socket.on("reveal",(()=>{!function(t){let e=0,n=0;ie="";for(let o=0;o<t.length;o++){let i=t[o].estimation;""!==i&&"?"!==i&&"coffee"!==i&&(e+=parseInt(t[o].estimation),n++)}0!==n&&(e=Math.round(e/n*100)/100,ie=e.toString())}(c),n(8,g=ie),se(c),n(6,d=!1),n(7,f=!0),h()})),socket.on("emptyList",(()=>{ce(),n(8,g=ie),oe.lowest={},oe.highest={},function(){for(let t=0;t<c.length;t++)n(3,c[t].estimation="",c);n(6,d=!0);let t=document.getElementsByClassName("button-primary-positive");void 0!==t[0]&&t[0].classList.remove("button-primary-positive");u=0,v("Reset successfully.")}(),n(7,f=!1)}));return t.$$set=t=>{"params"in t&&n(16,r=t.params)},[o,s,l,c,a,m,d,f,g,["0","1","2","3","5","8"],["13","20","40","100","?","coffee"],()=>{n(2,l=!1),b()},t=>{b(),t.detail&&setTimeout((function(){_t("/")}),10)},()=>{socket.emit("reset"),h()},t=>{let e=c.find((t=>t.id===socket.id)),n=Object.assign({},e);n.estimation!==t.detail&&(n.estimation=t.detail,$(n),socket.emit("estimated",t.detail)),h()},()=>{var t;t="https://planning-poker-qs.herokuapp.com/#/room/"+o,navigator.clipboard.writeText(t).then((function(){}),(function(t){console.error("Async: Could not copy text: ",t)})),v("Invitation link copied.")},r]}function Xe(e){let n,o,i,r,s,l,c,a,u,m,d,f,g,b,$,w,k;return{c(){n=v("div"),n.innerHTML='<div class="six columns"><img src="/img/startsession.gif" alt="how to start a session" style="width:100%"/></div> \n    <div class="six columns"><h5 style="margin-bottom: 0;">Start a session</h5> \n        <hr style="margin-top: 0; margin-bottom: 3%;"/> \n        <p>Um eine Session zu starten, im Hauptmenu auf &quot;Start&quot; klicken, einen Nutzernamen eingeben und erneut auf &quot;Start&quot; klicken.</p> \n        <p>Verwendet man das Tool regelmäßig, ist es hilfreich, die erstellte Session als Lesezeichen zu speichern. So kann man immer wieder dieselbe Session nutzen, ohne jedes Mal eine Neue erstellen zu müssen.</p></div>',i=y(),r=v("div"),r.innerHTML='<div class="six columns"><img src="/img/joinsession.gif" alt="how to join a session" style="width:100%"/></div> \n    <div class="six columns"><h5 style="margin-bottom: 0;">Join a session</h5> \n        <hr style="margin-top: 0; margin-bottom: 3%;"/> \n        <p>Um einer Session manuell beizutreten, im Hauptmenu auf &quot;Join&quot; klicken, einen Nutzernamen sowie eine Raum-ID eingeben und erneut auf &quot;Join&quot; klicken. Wenn die eingegebene ID nicht existiert, wird eine neue Session mit dieser ID erstellt.</p> \n        <p>Einer bestehenden Session kann nicht nur manuell, sondern auch per Einladungslink beigetreten werden. Mit dem Link muss man nur den Nutzernamen eingeben und kann direkt beitreten.</p> \n        <p>Wenn das Tool bereits genutzt wurde, wird der zuletzt verwendete Nutzername vorausgefüllt. Man kann ihn jedoch bei jedem Start oder Beitritt einer Session ändern.</p></div>',l=y(),c=v("div"),c.innerHTML='<div class="six columns"><img src="/img/copyinvitationlink.gif" alt="how to copy an invitation link" style="width:100%"/></div> \n    <div class="six columns"><h5 style="margin-bottom: 0;">Copy invitation link</h5> \n        <hr style="margin-top: 0; margin-bottom: 3%;"/> \n        <p>Um den Einladungslink zu einer Session in die Zwischenablage zu kopieren, das Copy-Icon neben der &quot;room-id&quot; anklicken. Der Link kann anschließend direkt an Kollegen weitergeschickt werden.</p></div>',u=y(),m=v("div"),m.innerHTML='<div class="six columns"><img src="/img/estimationsandreset.gif" alt="how to estimate and reset" style="width:100%"/></div> \n    <div class="six columns"><h5 style="margin-bottom: 0;">Set and reset estimations</h5> \n        <hr style="margin-top: 0; margin-bottom: 3%;"/> \n        <p>Um eine Schätzung abzugeben, einen der Buttons im unteren Bereich anklicken. Bis alle Teilnehmer ihre Schätzung abgegeben haben, erscheint statt der Schätzung ein Haken, um zu zeigen, wer bereits geschätzt hat. Die eigene Schätzung kann nur geändert werden, wenn noch nicht alle geschätzt haben.</p> \n        <p>Sobald jeder Teilnehmer eine Schätzung abgegeben hat, werden alle Werte zeitgleich aufgedeckt. Der Durchschnitt aller Zahlenwerte wird am Ende der Liste in orange ausgegeben. Der Nutzer mit der höchsten/niedrigsten Schätzung wird mit einem Pfeil nach oben bzw. unten hervorgehoben. Ohne höchste oder niedrigste Schätzung erscheinen keine Pfeile.</p> \n        <p>Tritt ein Teilnehmer nach dem Aufdecken bei, werden alle Werte verdeckt, damit der neue Teilnehmer seine Schätzung unbeeinflusst abgeben kann.</p> \n        <p>Um alle Schätzungen zurückzusetzen, den blauen &quot;Reset&quot; Button betätigen.</p></div>',f=y(),g=v("div"),g.innerHTML='<div class="six columns"><img src="/img/joinasspectator.gif" alt="how to join as spectator" style="width:100%"/></div> \n    <div class="six columns"><h5 style="margin-bottom: 0;">Join as spectator</h5> \n        <hr style="margin-top: 0; margin-bottom: 3%;"/> \n        <p>Möchte man der Session teilnehmen ohne mitzuschätzen, hat man die Möglichkeit, als Zuschauer beizutreten. Hierzu beim Beitreten einfach die Option &quot;Join as spectator&quot; aktivieren. Als Zuschauer ist man seperat aufgelistet und kann lediglich die Schätzungen zurücksetzen.</p></div>',$=y(),w=v("div"),w.innerHTML='<div class="six columns"><img src="/img/changetheme.gif" alt="how to change the theme" style="width:100%"/></div> \n    <div class="six columns"><h5 style="margin-bottom: 0;">Change theme</h5> \n        <hr style="margin-top: 0; margin-bottom: 3%;"/> \n        <p>Das Erscheinungsbild kann über das Theme-Icon (Mond/Sonne) in der rechten oberen Ecke geändert werden. Die eingestellten Präferenzen werden gespeichert.</p></div>',x(n,"class","row"),E(n,"margin-top","15%"),E(n,"margin-bottom","5%"),x(r,"class","row"),E(r,"margin-bottom","5%"),x(c,"class","row"),E(c,"margin-bottom","5%"),x(m,"class","row"),E(m,"margin-bottom","5%"),x(g,"class","row"),E(g,"margin-bottom","5%"),x(w,"class","row"),E(w,"margin-bottom","5%")},m(t,e){p(t,n,e),p(t,i,e),p(t,r,e),p(t,l,e),p(t,c,e),p(t,u,e),p(t,m,e),p(t,f,e),p(t,g,e),p(t,$,e),p(t,w,e)},p:t,i(t){o||Y((()=>{o=ct(n,jt,{}),o.start()})),s||Y((()=>{s=ct(r,jt,{}),s.start()})),a||Y((()=>{a=ct(c,jt,{}),a.start()})),d||Y((()=>{d=ct(m,jt,{}),d.start()})),b||Y((()=>{b=ct(g,jt,{}),b.start()})),k||Y((()=>{k=ct(w,jt,{}),k.start()}))},o:t,d(t){t&&h(n),t&&h(i),t&&h(r),t&&h(l),t&&h(c),t&&h(u),t&&h(m),t&&h(f),t&&h(g),t&&h($),t&&h(w)}}}function Ve(e){let n,o;return{c(){n=v("div"),n.innerHTML='<div class="twelve columns" style="margin-bottom: 10%;"><h3>404 not found.</h3> \n        <a href="https://planning-poker-live.herokuapp.com" style="font-size: 15px">Back to the main menu</a> \n        <span></span></div>',x(n,"class","row"),E(n,"margin-top","15%"),E(n,"margin-bottom","5%")},m(t,e){p(t,n,e)},p:t,i(t){o||Y((()=>{o=ct(n,jt,{}),o.start()}))},o:t,d(t){t&&h(n)}}}var Ke={"/":class extends ht{constructor(t){super(),pt(this,t,Ot,Ht,l,{onload:2})}get onload(){return this.$$.ctx[2]}},"/start":class extends ht{constructor(t){super(),pt(this,t,Gt,Kt,l,{})}},"/join/:id?":class extends ht{constructor(t){super(),pt(this,t,ne,ee,l,{params:6})}},"/room/:id":class extends ht{constructor(t){super(),pt(this,t,Ze,Ye,l,{params:16},[-1,-1])}},"/tutorial/":class extends ht{constructor(t){super(),pt(this,t,null,Xe,l,{})}},"*":class extends ht{constructor(t){super(),pt(this,t,null,Ve,l,{})}}};function Ge(e){let n,o,i,r,s,l;return o=new qt({}),s=new Lt({props:{routes:Ke}}),{c(){n=v("main"),dt(o.$$.fragment),i=y(),r=v("div"),dt(s.$$.fragment),x(r,"class","container"),E(r,"margin-top","80px")},m(t,e){p(t,n,e),ft(o,n,null),g(n,i),g(n,r),ft(s,r,null),l=!0},p:t,i(t){l||(rt(o.$$.fragment,t),rt(s.$$.fragment,t),l=!0)},o(t){st(o.$$.fragment,t),st(s.$$.fragment,t),l=!1},d(t){t&&h(n),gt(o),gt(s)}}}function Qe(t){return socket.on("newRoom",(t=>{Et("/room/"+t)})),[]}return new class extends ht{constructor(t){super(),pt(this,t,Qe,Ge,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
